import{S as z,i as F,s as G,e as k,t as J,k as A,j as I,l as P,c as $,a as v,g as L,d as m,n as T,m as B,b as E,f as S,H as N,o as K,M as Q,x as p,u as _,v as V,w as q,T as U,P as W,r as y}from"../../../chunks/vendor-04de4d0b.js";import{d as X}from"../../../chunks/store-c6993e83.js";import{S as Y}from"../../../chunks/Slider-1e67c823.js";import{K as D}from"../../../chunks/molecular-e392fe60.js";import Z from"../shared/videoCard.svelte-9e57df9b.js";import"../../../chunks/AspectRatio-161036b6.js";function H(r,t,l){const e=r.slice();return e[5]=t[l],e}function M(r){let t,l,e,n,i,u,d,f,b,j,C;u=new Y({props:{hideTextInput:!0,max:4,value:1}}),u.$on("change",r[3]);let h=r[1].slice(0,r[0]*5),a=[];for(let s=0;s<h.length;s+=1)a[s]=O(H(r,h,s));const R=s=>_(a[s],1,1,()=>{a[s]=null});return{c(){t=k("div"),l=k("span"),e=J("Nebula"),n=A(),i=k("span"),I(u.$$.fragment),d=A();for(let s=0;s<a.length;s+=1)a[s].c();f=P(),this.h()},l(s){t=$(s,"DIV",{class:!0});var c=v(t);l=$(c,"SPAN",{});var o=v(l);e=L(o,"Nebula"),o.forEach(m),n=T(c),i=$(c,"SPAN",{});var g=v(i);B(u.$$.fragment,g),g.forEach(m),c.forEach(m),d=T(s);for(let w=0;w<a.length;w+=1)a[w].l(s);f=P(),this.h()},h(){E(t,"class","w-100 \u0192 p5 \u2206-bw")},m(s,c){S(s,t,c),N(t,l),N(l,e),N(t,n),N(t,i),K(u,i,null),S(s,d,c);for(let o=0;o<a.length;o+=1)a[o].m(s,c);S(s,f,c),b=!0,j||(C=Q(l,"click",r[2]),j=!0)},p(s,c){if(c&3){h=s[1].slice(0,s[0]*5);let o;for(o=0;o<h.length;o+=1){const g=H(s,h,o);a[o]?(a[o].p(g,c),p(a[o],1)):(a[o]=O(g),a[o].c(),p(a[o],1),a[o].m(f.parentNode,f))}for(y(),o=h.length;o<a.length;o+=1)R(o);q()}},i(s){if(!b){p(u.$$.fragment,s);for(let c=0;c<h.length;c+=1)p(a[c]);b=!0}},o(s){_(u.$$.fragment,s),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)_(a[c]);b=!1},d(s){s&&m(t),V(u),s&&m(d),U(a,s),s&&m(f),j=!1,C()}}}function O(r){let t,l;return t=new Z({props:{title:r[5].title,slug:r[5].uri,type:"Nebula",image:r[5].image,token:r[5].token,details:[r[5].channel,new D(r[5].date).timeSince()]}}),{c(){I(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,n){K(t,e,n),l=!0},p(e,n){const i={};n&3&&(i.title=e[5].title),n&3&&(i.slug=e[5].uri),n&3&&(i.image=e[5].image),n&3&&(i.token=e[5].token),n&3&&(i.details=[e[5].channel,new D(e[5].date).timeSince()]),t.$set(i)},i(e){l||(p(t.$$.fragment,e),l=!0)},o(e){_(t.$$.fragment,e),l=!1},d(e){V(t,e)}}}function x(r){let t,l,e=r[1].length&&M(r);return{c(){t=k("section"),e&&e.c(),this.h()},l(n){t=$(n,"SECTION",{class:!0,id:!0});var i=v(t);e&&e.l(i),i.forEach(m),this.h()},h(){E(t,"class","\u0192 p20 \u0192\u2211"),E(t,"id","search")},m(n,i){S(n,t,i),e&&e.m(t,null),l=!0},p(n,[i]){n[1].length?e?(e.p(n,i),i&2&&p(e,1)):(e=M(n),e.c(),p(e,1),e.m(t,null)):e&&(y(),_(e,1,1,()=>{e=null}),q())},i(n){l||(p(e),l=!0)},o(n){_(e),l=!1},d(n){n&&m(t),e&&e.d()}}}function ee(r,t,l){let e,n;W(r,X,f=>l(4,n=f));const i=()=>l(1,e=[]);let u=1;const d=f=>l(0,u=f.detail);return r.$$.update=()=>{r.$$.dirty&16&&l(1,e=n)},[u,e,i,d,n]}class ie extends z{constructor(t){super();F(this,t,ee,x,G,{})}}export{ie as default};
