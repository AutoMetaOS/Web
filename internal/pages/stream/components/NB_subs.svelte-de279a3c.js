import{S as z,i as F,s as G,e as k,t as J,k as A,j as I,l as V,c as $,a as v,g as L,d as m,n as B,m as K,b as E,f as S,H as N,o as P,N as M,x as p,u as d,v as T,w as q,V as U,Q as W,r as y}from"../../../chunks/vendor-05f61b45.js";import{d as X}from"../../../chunks/store-0833f744.js";import{S as Y}from"../../../chunks/Slider-60ef7e74.js";import{K as D}from"../../../chunks/molecular-e392fe60.js";import Z from"../shared/videoCard.svelte-0e1ba922.js";import"../../../chunks/AspectRatio-cb8a042f.js";function H(r,t,l){const e=r.slice();return e[5]=t[l],e}function O(r){let t,l,e,n,i,f,_,u,b,j,C;f=new Y({props:{hideTextInput:!0,max:4,value:1}}),f.$on("change",r[3]);let h=r[1].slice(0,r[0]*5),a=[];for(let s=0;s<h.length;s+=1)a[s]=Q(H(r,h,s));const R=s=>d(a[s],1,1,()=>{a[s]=null});return{c(){t=k("div"),l=k("span"),e=J("Nebula"),n=A(),i=k("span"),I(f.$$.fragment),_=A();for(let s=0;s<a.length;s+=1)a[s].c();u=V(),this.h()},l(s){t=$(s,"DIV",{class:!0});var c=v(t);l=$(c,"SPAN",{});var o=v(l);e=L(o,"Nebula"),o.forEach(m),n=B(c),i=$(c,"SPAN",{});var g=v(i);K(f.$$.fragment,g),g.forEach(m),c.forEach(m),_=B(s);for(let w=0;w<a.length;w+=1)a[w].l(s);u=V(),this.h()},h(){E(t,"class","w-100 \u0192 p5 \u2206-bw")},m(s,c){S(s,t,c),N(t,l),N(l,e),N(t,n),N(t,i),P(f,i,null),S(s,_,c);for(let o=0;o<a.length;o+=1)a[o].m(s,c);S(s,u,c),b=!0,j||(C=M(l,"click",r[2]),j=!0)},p(s,c){if(c&3){h=s[1].slice(0,s[0]*5);let o;for(o=0;o<h.length;o+=1){const g=H(s,h,o);a[o]?(a[o].p(g,c),p(a[o],1)):(a[o]=Q(g),a[o].c(),p(a[o],1),a[o].m(u.parentNode,u))}for(y(),o=h.length;o<a.length;o+=1)R(o);q()}},i(s){if(!b){p(f.$$.fragment,s);for(let c=0;c<h.length;c+=1)p(a[c]);b=!0}},o(s){d(f.$$.fragment,s),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)d(a[c]);b=!1},d(s){s&&m(t),T(f),s&&m(_),U(a,s),s&&m(u),j=!1,C()}}}function Q(r){let t,l;return t=new Z({props:{title:r[5].title,slug:r[5].uri,type:"Nebula",image:r[5].image,token:r[5].token,details:[r[5].channel,new D(r[5].date).timeSince()]}}),{c(){I(t.$$.fragment)},l(e){K(t.$$.fragment,e)},m(e,n){P(t,e,n),l=!0},p(e,n){const i={};n&3&&(i.title=e[5].title),n&3&&(i.slug=e[5].uri),n&3&&(i.image=e[5].image),n&3&&(i.token=e[5].token),n&3&&(i.details=[e[5].channel,new D(e[5].date).timeSince()]),t.$set(i)},i(e){l||(p(t.$$.fragment,e),l=!0)},o(e){d(t.$$.fragment,e),l=!1},d(e){T(t,e)}}}function x(r){let t,l,e=r[1].length&&O(r);return{c(){t=k("section"),e&&e.c(),this.h()},l(n){t=$(n,"SECTION",{class:!0,id:!0});var i=v(t);e&&e.l(i),i.forEach(m),this.h()},h(){E(t,"class","\u0192 p20 \u0192\u2211"),E(t,"id","search")},m(n,i){S(n,t,i),e&&e.m(t,null),l=!0},p(n,[i]){n[1].length?e?(e.p(n,i),i&2&&p(e,1)):(e=O(n),e.c(),p(e,1),e.m(t,null)):e&&(y(),d(e,1,1,()=>{e=null}),q())},i(n){l||(p(e),l=!0)},o(n){d(e),l=!1},d(n){n&&m(t),e&&e.d()}}}function ee(r,t,l){let e,n;W(r,X,u=>l(4,n=u));const i=()=>l(1,e=[]);let f=1;const _=u=>l(0,f=u.detail);return r.$$.update=()=>{r.$$.dirty&16&&l(1,e=n)},[f,e,i,_,n]}class ie extends z{constructor(t){super();F(this,t,ee,x,G,{})}}export{ie as default};
