import{S as W,i as X,s as x,e as h,k as F,w as $,t as P,c as m,a as j,m as q,x as ee,d as _,h as z,b as o,M as U,g as te,J as s,y as se,j as L,q as ae,o as ie,B as re}from"../../../chunks/vendor-1a0fbb3d.js";import le from"./functions.svelte-1b428c97.js";import"../../../chunks/index-a08375e3.js";const ne=e=>e?`https://covers.openlibrary.org/b/id/${e}-M.jpg`:"https://openlibrary.org/images/icons/avatar_book-sm.png",oe=e=>e.filter(t=>!/[^a-zA-Z]/i.test(t)).map(t=>t.toLowerCase()).slice(0,4).join(", "),ce=e=>{if(typeof e=="string")return e;if(typeof e=="object"){const t=[...new Set(e.map(a=>a.trim()))];return t.length>3?`${t.slice(0,3).join(", ")} et al.`:t.join(", ")}},ue=e=>{if(typeof e=="string")return+e;if(typeof e=="object")return+e[0]},g={image:ne,author:ce,tags:oe,published:ue};function fe(e){let t,a,c,I,k,u,D,n,d,b,r,B,M=g.author(e[6])+"",A,R,v,E,Y,S=g.published(e[5])+"",G,Z,H,K,w,C=g.tags(e[3])+"",J,f;return u=new le({props:{objective:e[0],data:e[7]}}),{c(){t=h("div"),a=h("div"),c=h("img"),k=F(),$(u.$$.fragment),D=F(),n=h("div"),d=h("div"),b=P(e[1]),r=F(),B=h("div"),A=P(M),R=F(),v=h("div"),E=h("i"),Y=P("First Published "),G=P(S),Z=F(),H=h("br"),K=F(),w=h("div"),J=P(C),this.h()},l(i){t=m(i,"DIV",{id:!0,class:!0});var l=j(t);a=m(l,"DIV",{class:!0});var p=j(a);c=m(p,"IMG",{class:!0,src:!0,alt:!0}),k=q(p),ee(u.$$.fragment,p),p.forEach(_),D=q(l),n=m(l,"DIV",{class:!0});var V=j(n);d=m(V,"DIV",{class:!0});var O=j(d);b=z(O,e[1]),O.forEach(_),r=q(V),B=m(V,"DIV",{});var Q=j(B);A=z(Q,M),Q.forEach(_),R=q(V),v=m(V,"DIV",{class:!0});var y=j(v);E=m(y,"I",{class:!0});var N=j(E);Y=z(N,"First Published "),G=z(N,S),N.forEach(_),Z=q(y),H=m(y,"BR",{}),K=q(y),w=m(y,"DIV",{class:!0});var T=j(w);J=z(T,C),T.forEach(_),y.forEach(_),V.forEach(_),l.forEach(_),this.h()},h(){o(c,"class","w-100 h-100 svelte-clv28a"),U(c.src,I=g.image(e[2]))||o(c,"src",I),o(c,"alt",e[1]),o(a,"class","p-rel"),o(d,"class","fw4"),o(E,"class","published svelte-clv28a"),o(w,"class","tags svelte-clv28a"),o(v,"class","p5"),o(n,"class","p10"),o(t,"id",e[4]),o(t,"class","book \u0192 m10 svelte-clv28a")},m(i,l){te(i,t,l),s(t,a),s(a,c),s(a,k),se(u,a,null),s(t,D),s(t,n),s(n,d),s(d,b),s(n,r),s(n,B),s(B,A),s(n,R),s(n,v),s(v,E),s(E,Y),s(E,G),s(v,Z),s(v,H),s(v,K),s(v,w),s(w,J),f=!0},p(i,[l]){(!f||l&4&&!U(c.src,I=g.image(i[2])))&&o(c,"src",I),(!f||l&2)&&o(c,"alt",i[1]);const p={};l&1&&(p.objective=i[0]),l&128&&(p.data=i[7]),u.$set(p),(!f||l&2)&&L(b,i[1]),(!f||l&64)&&M!==(M=g.author(i[6])+"")&&L(A,M),(!f||l&32)&&S!==(S=g.published(i[5])+"")&&L(G,S),(!f||l&8)&&C!==(C=g.tags(i[3])+"")&&L(J,C),(!f||l&16)&&o(t,"id",i[4])},i(i){f||(ae(u.$$.fragment,i),f=!0)},o(i){ie(u.$$.fragment,i),f=!1},d(i){i&&_(t),re(u)}}}function de(e,t,a){let c,{objective:I="sugg",title:k="",image:u="",tags:D=[],id:n,published:d=new Date().getFullYear(),author:b=""}=t;return e.$$set=r=>{"objective"in r&&a(0,I=r.objective),"title"in r&&a(1,k=r.title),"image"in r&&a(2,u=r.image),"tags"in r&&a(3,D=r.tags),"id"in r&&a(4,n=r.id),"published"in r&&a(5,d=r.published),"author"in r&&a(6,b=r.author)},e.$$.update=()=>{e.$$.dirty&126&&a(7,c={title:k,image:u,tags:g.tags(D),bk_id:n,published:d[0],author:g.author(b)})},[I,k,u,D,n,d,b,c]}class ge extends W{constructor(t){super();X(this,t,de,fe,x,{objective:0,title:1,image:2,tags:3,id:4,published:5,author:6})}}export{ge as default};
