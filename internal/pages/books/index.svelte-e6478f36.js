import{S as Q,i as R,s as V,w as T,x as q,y as D,q as b,o as y,B as F,e as k,k as B,c as $,a as I,m as N,d as w,b as f,g as Y,J as h,N as M,O,P as z,p as G,Y as H,Q as K,n as L}from"../../chunks/vendor-c4bd8a8d.js";import W from"./components/book.svelte-ee48202f.js";import X from"./parts/stack.svelte-79378e5c.js";import{p as E,a as Z}from"../../chunks/functions-110fdd57.js";import"../../chunks/index-03ab0e3d.js";const x="null",ee="default",te="Fetching...",se=[],oe=[],ae=[],ne=null;var U={objective:x,cover_edition_key:ee,title:te,author_name:se,publish_year:oe,tags:ae,cover_i:ne};function A(r,s,a){const e=r.slice();return e[5]=s[a],e}function C(r){let s,a;return s=new W({props:{objective:r[5].objective,id:r[5].cover_edition_key,title:r[5].title,author:r[5].author_name,image:r[5].cover_i,tags:r[5].subject,published:r[5].publish_year}}),{c(){T(s.$$.fragment)},l(e){q(s.$$.fragment,e)},m(e,l){D(s,e,l),a=!0},p(e,l){const c={};l&1&&(c.objective=e[5].objective),l&1&&(c.id=e[5].cover_edition_key),l&1&&(c.title=e[5].title),l&1&&(c.author=e[5].author_name),l&1&&(c.image=e[5].cover_i),l&1&&(c.tags=e[5].subject),l&1&&(c.published=e[5].publish_year),s.$set(c)},i(e){a||(b(s.$$.fragment,e),a=!0)},o(e){y(s.$$.fragment,e),a=!1},d(e){F(s,e)}}}function le(r){let s,a,e,l,c,v,m,d,p,j,S,P;m=new X({props:{omni:r[1]}});let _=r[0].map(E.results),o=[];for(let t=0;t<_.length;t+=1)o[t]=C(A(r,_,t));const J=t=>y(o[t],1,1,()=>{o[t]=null});return{c(){s=k("main"),a=k("form"),e=k("input"),l=B(),c=k("input"),v=B(),T(m.$$.fragment),d=B(),p=k("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=$(t,"MAIN",{class:!0});var n=I(s);a=$(n,"FORM",{class:!0});var u=I(a);e=$(u,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),l=N(u),c=$(u,"INPUT",{type:!0,class:!0}),u.forEach(w),v=N(n),q(m.$$.fragment,n),d=N(n),p=$(n,"DIV",{class:!0});var i=I(p);for(let g=0;g<o.length;g+=1)o[g].l(i);i.forEach(w),n.forEach(w),this.h()},h(){f(e,"type","text"),f(e,"spellcheck","false"),f(e,"class","w-50 svelte-mg22m3"),f(e,"placeholder","Search"),f(c,"type","submit"),f(c,"class","o-0 svelte-mg22m3"),c.value="go",f(a,"class","w-100 p-fix p10 blur svelte-mg22m3"),f(p,"class","\u0192 \u0192\u2211 \u2206-bw w-100"),f(s,"class","p0 m0 \u0192 \u0192\u2211 p-rel svelte-mg22m3")},m(t,n){Y(t,s,n),h(s,a),h(a,e),M(e,r[1]),h(a,l),h(a,c),h(s,v),D(m,s,null),h(s,d),h(s,p);for(let u=0;u<o.length;u+=1)o[u].m(p,null);j=!0,S||(P=[O(e,"input",r[3]),O(a,"submit",z(r[2]))],S=!0)},p(t,[n]){n&2&&e.value!==t[1]&&M(e,t[1]);const u={};if(n&2&&(u.omni=t[1]),m.$set(u),n&1){_=t[0].map(E.results);let i;for(i=0;i<_.length;i+=1){const g=A(t,_,i);o[i]?(o[i].p(g,n),b(o[i],1)):(o[i]=C(g),o[i].c(),b(o[i],1),o[i].m(p,null))}for(L(),i=_.length;i<o.length;i+=1)J(i);G()}},i(t){if(!j){b(m.$$.fragment,t);for(let n=0;n<_.length;n+=1)b(o[n]);j=!0}},o(t){y(m.$$.fragment,t),o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)y(o[n]);j=!1},d(t){t&&w(s),F(m),H(o,t),S=!1,K(P)}}}function re(r,s,a){let e,l;const c=()=>{console.log(U),a(0,e=[U]);const m=E.form.search(l);Z.search(m).then(d=>a(0,e=d))};function v(){l=this.value,a(1,l)}return a(0,e=[]),a(1,l=""),[e,l,c,v]}class pe extends Q{constructor(s){super();R(this,s,re,le,V,{})}}export{pe as default};
