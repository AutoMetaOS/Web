import{S as F,i as J,s as Q,w as I,x as P,y as T,q as v,o as d,B as q,e as k,k as w,c as $,a as E,m as y,d as B,b as f,g as R,J as h,N as M,O,P as Y,p as z,Y as G,Q as H,n as K}from"../../chunks/vendor-4e7e0afc.js";import{p as S,B as L,b as U,a as V}from"../../chunks/book-6861fcee.js";import W from"./parts/stack.svelte-8d432150.js";import"./components/functions.svelte-f262e55a.js";import"../../chunks/index-8cfe8229.js";function A(u,s,i){const e=u.slice();return e[4]=s[i],e}function C(u){let s,i;return s=new L({props:{objective:u[4].objective,id:u[4].cover_edition_key,title:u[4].title,author:u[4].author_name,image:u[4].cover_i,tags:u[4].subject,published:u[4].publish_year}}),{c(){I(s.$$.fragment)},l(e){P(s.$$.fragment,e)},m(e,a){T(s,e,a),i=!0},p(e,a){const n={};a&2&&(n.objective=e[4].objective),a&2&&(n.id=e[4].cover_edition_key),a&2&&(n.title=e[4].title),a&2&&(n.author=e[4].author_name),a&2&&(n.image=e[4].cover_i),a&2&&(n.tags=e[4].subject),a&2&&(n.published=e[4].publish_year),s.$set(n)},i(e){i||(v(s.$$.fragment,e),i=!0)},o(e){d(s.$$.fragment,e),i=!1},d(e){q(s,e)}}}function X(u){let s,i,e,a,n,_,c,g,b,j,N;i=new W({});let p=u[1].map(S.results),o=[];for(let t=0;t<p.length;t+=1)o[t]=C(A(u,p,t));const D=t=>d(o[t],1,1,()=>{o[t]=null});return{c(){s=k("main"),I(i.$$.fragment),e=w(),a=k("form"),n=k("input"),_=w(),c=k("input"),g=w();for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=$(t,"MAIN",{class:!0});var r=E(s);P(i.$$.fragment,r),e=y(r),a=$(r,"FORM",{class:!0});var l=E(a);n=$(l,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),_=y(l),c=$(l,"INPUT",{type:!0,class:!0}),l.forEach(B),g=y(r);for(let m=0;m<o.length;m+=1)o[m].l(r);r.forEach(B),this.h()},h(){f(n,"type","text"),f(n,"spellcheck","false"),f(n,"class","w-50 svelte-ew240v"),f(n,"placeholder","Search"),f(c,"type","submit"),f(c,"class","o-0 svelte-ew240v"),c.value="go",f(a,"class","w-100 p10 blur svelte-ew240v"),f(s,"class","p0 m0 \u0192 \u0192\u2211 svelte-ew240v")},m(t,r){R(t,s,r),T(i,s,null),h(s,e),h(s,a),h(a,n),M(n,u[0]),h(a,_),h(a,c),h(s,g);for(let l=0;l<o.length;l+=1)o[l].m(s,null);b=!0,j||(N=[O(n,"input",u[3]),O(a,"submit",Y(u[2]))],j=!0)},p(t,[r]){if(r&1&&n.value!==t[0]&&M(n,t[0]),r&2){p=t[1].map(S.results);let l;for(l=0;l<p.length;l+=1){const m=A(t,p,l);o[l]?(o[l].p(m,r),v(o[l],1)):(o[l]=C(m),o[l].c(),v(o[l],1),o[l].m(s,null))}for(K(),l=p.length;l<o.length;l+=1)D(l);z()}},i(t){if(!b){v(i.$$.fragment,t);for(let r=0;r<p.length;r+=1)v(o[r]);b=!0}},o(t){d(i.$$.fragment,t),o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)d(o[r]);b=!1},d(t){t&&B(s),q(i),G(o,t),j=!1,H(N)}}}function Z(u,s,i){let e,a="";const n=()=>{console.log(U),i(1,e=[U]);const c=S.form(a);V.search(c).then(g=>{i(1,e=g)})};function _(){a=this.value,i(0,a)}return i(1,e=[]),[a,e,n,_]}class le extends F{constructor(s){super();J(this,s,Z,X,Q,{})}}export{le as default};
