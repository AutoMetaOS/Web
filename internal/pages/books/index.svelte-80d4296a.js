import{S as J,i as O,s as Q,w as q,x as D,y as F,q as d,o as y,B as M,e as k,k as B,c as $,a as I,m as N,d as w,b as m,g as V,H as h,Q as P,J as R,R as z,p as G,N as K,T as L,n as W}from"../../chunks/vendor-8db968e4.js";import X from"./components/book.svelte-a2985f1a.js";import Y from"./parts/stack.svelte-7fb82c3c.js";import{p as T,a as Z}from"../../chunks/functions-488f8362.js";import"../../chunks/index-03ab0e3d.js";const x="null",ee="default",te="Fetching...",se=[],oe=[],ae=[],ne=null;var U={objective:x,cover_edition_key:ee,title:te,author_name:se,publish_year:oe,tags:ae,cover_i:ne};function A(r,s,a){const e=r.slice();return e[5]=s[a],e}function C(r){let s,a;return s=new X({props:{objective:r[5].objective,id:r[5].cover_edition_key,title:r[5].title,author:r[5].author_name,image:r[5].cover_i,tags:r[5].subject,published:r[5].publish_year}}),{c(){q(s.$$.fragment)},l(e){D(s.$$.fragment,e)},m(e,l){F(s,e,l),a=!0},p(e,l){const c={};l&1&&(c.objective=e[5].objective),l&1&&(c.id=e[5].cover_edition_key),l&1&&(c.title=e[5].title),l&1&&(c.author=e[5].author_name),l&1&&(c.image=e[5].cover_i),l&1&&(c.tags=e[5].subject),l&1&&(c.published=e[5].publish_year),s.$set(c)},i(e){a||(d(s.$$.fragment,e),a=!0)},o(e){y(s.$$.fragment,e),a=!1},d(e){M(s,e)}}}function le(r){let s,a,e,l,c,v,f,b,p,j,S,E;f=new Y({props:{omni:r[1]}});let _=r[0].map(T.results),o=[];for(let t=0;t<_.length;t+=1)o[t]=C(A(r,_,t));const H=t=>y(o[t],1,1,()=>{o[t]=null});return{c(){s=k("main"),a=k("form"),e=k("input"),l=B(),c=k("input"),v=B(),q(f.$$.fragment),b=B(),p=k("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=$(t,"MAIN",{class:!0});var n=I(s);a=$(n,"FORM",{class:!0});var u=I(a);e=$(u,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),l=N(u),c=$(u,"INPUT",{type:!0,class:!0}),u.forEach(w),v=N(n),D(f.$$.fragment,n),b=N(n),p=$(n,"DIV",{class:!0});var i=I(p);for(let g=0;g<o.length;g+=1)o[g].l(i);i.forEach(w),n.forEach(w),this.h()},h(){m(e,"type","text"),m(e,"spellcheck","false"),m(e,"class","w-50 svelte-mg22m3"),m(e,"placeholder","Search"),m(c,"type","submit"),m(c,"class","o-0 svelte-mg22m3"),c.value="go",m(a,"class","w-100 p-fix p10 blur svelte-mg22m3"),m(p,"class","\u0192 \u0192\u2211 \u2206-bw w-100"),m(s,"class","p0 m0 \u0192 \u0192\u2211 p-rel svelte-mg22m3")},m(t,n){V(t,s,n),h(s,a),h(a,e),P(e,r[1]),h(a,l),h(a,c),h(s,v),F(f,s,null),h(s,b),h(s,p);for(let u=0;u<o.length;u+=1)o[u].m(p,null);j=!0,S||(E=[R(e,"input",r[3]),R(a,"submit",z(r[2]))],S=!0)},p(t,[n]){n&2&&e.value!==t[1]&&P(e,t[1]);const u={};if(n&2&&(u.omni=t[1]),f.$set(u),n&1){_=t[0].map(T.results);let i;for(i=0;i<_.length;i+=1){const g=A(t,_,i);o[i]?(o[i].p(g,n),d(o[i],1)):(o[i]=C(g),o[i].c(),d(o[i],1),o[i].m(p,null))}for(W(),i=_.length;i<o.length;i+=1)H(i);G()}},i(t){if(!j){d(f.$$.fragment,t);for(let n=0;n<_.length;n+=1)d(o[n]);j=!0}},o(t){y(f.$$.fragment,t),o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)y(o[n]);j=!1},d(t){t&&w(s),M(f),K(o,t),S=!1,L(E)}}}function re(r,s,a){let e,l;const c=()=>{console.log(U),a(0,e=[U]);const f=T.form.search(l);Z.search(f).then(b=>a(0,e=b))};function v(){l=this.value,a(1,l)}return a(0,e=[]),a(1,l=""),[e,l,c,v]}class pe extends J{constructor(s){super();O(this,s,re,le,Q,{})}}export{pe as default};
