import{S as O,i as R,s as W,w as U,x as V,y as A,q as $,o as w,B as C,e as d,k as S,c as k,a as B,m as E,d as j,b as f,g as X,H as h,W as T,I as q,V as z,p as G,M as J,X as K,n as L}from"../../chunks/index-ef3d5a38.js";import Q from"./components/book.svelte-a809c623.js";import Y from"./stack.svelte-a6ac2cfe.js";import{p as M,a as Z}from"../../chunks/functions-c0c723cc.js";import"../../chunks/index-5ae5593d.js";import"../../chunks/index-50aceac0.js";const x="null",ee="default",te="Fetching...",se=[],oe=[],ae=[],le=null;var D={objective:x,cover_edition_key:ee,title:te,author_name:se,publish_year:oe,tags:ae,cover_i:le};function F(r,s,a){const e=r.slice();return e[5]=s[a],e}function P(r){let s,a;return s=new Q({props:{objective:r[5].objective,id:r[5].cover_edition_key,title:r[5].title,author:r[5].author_name,image:r[5].cover_i,tags:r[5].subject,published:r[5].publish_year}}),{c(){U(s.$$.fragment)},l(e){V(s.$$.fragment,e)},m(e,n){A(s,e,n),a=!0},p(e,n){const c={};n&1&&(c.objective=e[5].objective),n&1&&(c.id=e[5].cover_edition_key),n&1&&(c.title=e[5].title),n&1&&(c.author=e[5].author_name),n&1&&(c.image=e[5].cover_i),n&1&&(c.tags=e[5].subject),n&1&&(c.published=e[5].publish_year),s.$set(c)},i(e){a||($(s.$$.fragment,e),a=!0)},o(e){w(s.$$.fragment,e),a=!1},d(e){C(s,e)}}}function ne(r){let s,a,e,n,c,v,m,b,p,y,I,N;m=new Y({props:{omni:r[1]}});let _=r[0].map(M.results),o=[];for(let t=0;t<_.length;t+=1)o[t]=P(F(r,_,t));const H=t=>w(o[t],1,1,()=>{o[t]=null});return{c(){s=d("main"),a=d("form"),e=d("input"),n=S(),c=d("input"),v=S(),U(m.$$.fragment),b=S(),p=d("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=k(t,"MAIN",{class:!0});var l=B(s);a=k(l,"FORM",{class:!0});var u=B(a);e=k(u,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),n=E(u),c=k(u,"INPUT",{type:!0,class:!0}),u.forEach(j),v=E(l),V(m.$$.fragment,l),b=E(l),p=k(l,"DIV",{class:!0});var i=B(p);for(let g=0;g<o.length;g+=1)o[g].l(i);i.forEach(j),l.forEach(j),this.h()},h(){f(e,"type","text"),f(e,"spellcheck","false"),f(e,"class","w-50 svelte-mg22m3"),f(e,"placeholder","Search"),f(c,"type","submit"),f(c,"class","o-0 svelte-mg22m3"),c.value="go",f(a,"class","w-100 p-fix p10 blur svelte-mg22m3"),f(p,"class","\u0192 \u0192\u2211 \u2206-bw w-100"),f(s,"class","p0 m0 \u0192 \u0192\u2211 p-rel svelte-mg22m3")},m(t,l){X(t,s,l),h(s,a),h(a,e),T(e,r[1]),h(a,n),h(a,c),h(s,v),A(m,s,null),h(s,b),h(s,p);for(let u=0;u<o.length;u+=1)o[u].m(p,null);y=!0,I||(N=[q(e,"input",r[3]),q(a,"submit",z(r[2]))],I=!0)},p(t,[l]){l&2&&e.value!==t[1]&&T(e,t[1]);const u={};if(l&2&&(u.omni=t[1]),m.$set(u),l&1){_=t[0].map(M.results);let i;for(i=0;i<_.length;i+=1){const g=F(t,_,i);o[i]?(o[i].p(g,l),$(o[i],1)):(o[i]=P(g),o[i].c(),$(o[i],1),o[i].m(p,null))}for(L(),i=_.length;i<o.length;i+=1)H(i);G()}},i(t){if(!y){$(m.$$.fragment,t);for(let l=0;l<_.length;l+=1)$(o[l]);y=!0}},o(t){w(m.$$.fragment,t),o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)w(o[l]);y=!1},d(t){t&&j(s),C(m),J(o,t),I=!1,K(N)}}}function re(r,s,a){let e,n;const c=()=>{console.log(D),a(0,e=[D]);const m=M.form.search(n);Z.search(m).then(b=>a(0,e=b))};function v(){n=this.value,a(1,n)}return a(0,e=[]),a(1,n=""),[e,n,c,v]}class _e extends O{constructor(s){super(),R(this,s,re,ne,W,{})}}export{_e as default};
