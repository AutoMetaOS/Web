import{S as p,i as g,s as b,w as k,x as v,y as j,q as u,o as f,B as w,e as $,c as q,a as B,d as h,b as S,g as y,p as C,Y as I,v as D,n as E}from"../../../chunks/vendor-c4bd8a8d.js";import{s as L}from"../../../chunks/index-03ab0e3d.js";import M from"../components/book.svelte-ee48202f.js";import{b as V,p as Y}from"../../../chunks/functions-110fdd57.js";function m(a,s,r){const o=a.slice();return o[5]=s[r],o}function _(a){let s,r;return s=new M({props:{objective:"todo",id:a[2](a[5].bk_id),title:a[5].title,author:a[5].author,image:a[5].image,published:a[5].published}}),{c(){k(s.$$.fragment)},l(o){v(s.$$.fragment,o)},m(o,t){j(s,o,t),r=!0},p(o,t){const i={};t&3&&(i.id=o[2](o[5].bk_id)),t&3&&(i.title=o[5].title),t&3&&(i.author=o[5].author),t&3&&(i.image=o[5].image),t&3&&(i.published=o[5].published),s.$set(i)},i(o){r||(u(s.$$.fragment,o),r=!0)},o(o){f(s.$$.fragment,o),r=!1},d(o){w(s,o)}}}function z(a){let s,r,o=a[1].filter(a[4]),t=[];for(let n=0;n<o.length;n+=1)t[n]=_(m(a,o,n));const i=n=>f(t[n],1,1,()=>{t[n]=null});return{c(){s=$("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){s=q(n,"DIV",{class:!0});var l=B(s);for(let e=0;e<t.length;e+=1)t[e].l(l);l.forEach(h),this.h()},h(){S(s,"class","\u0192 \u0192\u2211 \u2206-bw w-100 svelte-n7kqm8")},m(n,l){y(n,s,l);for(let e=0;e<t.length;e+=1)t[e].m(s,null);r=!0},p(n,[l]){if(l&15){o=n[1].filter(n[4]);let e;for(e=0;e<o.length;e+=1){const c=m(n,o,e);t[e]?(t[e].p(c,l),u(t[e],1)):(t[e]=_(c),t[e].c(),u(t[e],1),t[e].m(s,null))}for(E(),e=o.length;e<t.length;e+=1)i(e);C()}},i(n){if(!r){for(let l=0;l<o.length;l+=1)u(t[l]);r=!0}},o(n){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)f(t[l]);r=!1},d(n){n&&h(s),I(t,n)}}}function A(a,s,r){let o,{omni:t=""}=s;const i=e=>(V.update(c=>[...c,e||"1"]),e),n=(e,c)=>e.some(d=>d.toLowerCase().includes(c));D(()=>L.list("books").then(e=>r(1,o=e)));const l=e=>n([e.title,e.author],Y.form.basic(t).text);return a.$$set=e=>{"omni"in e&&r(0,t=e.omni)},r(1,o=[]),[t,o,i,n,l]}class K extends p{constructor(s){super();g(this,s,A,z,b,{omni:0})}}export{K as default};
