import{S as p,i as g,s as b,w as k,x as v,y as j,q as u,o as f,B as w,e as $,c as q,a as B,d as h,b as S,g as y,p as C,N as I,v as D,n as E}from"../../../chunks/vendor-8db968e4.js";import{s as L}from"../../../chunks/index-03ab0e3d.js";import M from"../components/book.svelte-a2985f1a.js";import{b as N,p as V}from"../../../chunks/functions-488f8362.js";function m(l,s,r){const o=l.slice();return o[5]=s[r],o}function _(l){let s,r;return s=new M({props:{objective:"todo",id:l[2](l[5].bk_id),title:l[5].title,author:l[5].author,image:l[5].image,published:l[5].published}}),{c(){k(s.$$.fragment)},l(o){v(s.$$.fragment,o)},m(o,t){j(s,o,t),r=!0},p(o,t){const i={};t&3&&(i.id=o[2](o[5].bk_id)),t&3&&(i.title=o[5].title),t&3&&(i.author=o[5].author),t&3&&(i.image=o[5].image),t&3&&(i.published=o[5].published),s.$set(i)},i(o){r||(u(s.$$.fragment,o),r=!0)},o(o){f(s.$$.fragment,o),r=!1},d(o){w(s,o)}}}function z(l){let s,r,o=l[1].filter(l[4]),t=[];for(let n=0;n<o.length;n+=1)t[n]=_(m(l,o,n));const i=n=>f(t[n],1,1,()=>{t[n]=null});return{c(){s=$("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){s=q(n,"DIV",{class:!0});var a=B(s);for(let e=0;e<t.length;e+=1)t[e].l(a);a.forEach(h),this.h()},h(){S(s,"class","\u0192 \u0192\u2211 \u2206-bw w-100 svelte-n7kqm8")},m(n,a){y(n,s,a);for(let e=0;e<t.length;e+=1)t[e].m(s,null);r=!0},p(n,[a]){if(a&15){o=n[1].filter(n[4]);let e;for(e=0;e<o.length;e+=1){const c=m(n,o,e);t[e]?(t[e].p(c,a),u(t[e],1)):(t[e]=_(c),t[e].c(),u(t[e],1),t[e].m(s,null))}for(E(),e=o.length;e<t.length;e+=1)i(e);C()}},i(n){if(!r){for(let a=0;a<o.length;a+=1)u(t[a]);r=!0}},o(n){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)f(t[a]);r=!1},d(n){n&&h(s),I(t,n)}}}function A(l,s,r){let o,{omni:t=""}=s;const i=e=>(N.update(c=>[...c,e||"1"]),e),n=(e,c)=>e.some(d=>d.toLowerCase().includes(c));D(()=>L.list("books").then(e=>r(1,o=e)));const a=e=>n([e.title,e.author],V.form.basic(t).text);return l.$$set=e=>{"omni"in e&&r(0,t=e.omni)},r(1,o=[]),[t,o,i,n,a]}class K extends p{constructor(s){super();g(this,s,A,z,b,{omni:0})}}export{K as default};
