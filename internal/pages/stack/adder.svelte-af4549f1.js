import{S as Q,i as X,s as Y,e as y,t as W,c as v,a as F,h as Z,d as A,g as G,J as h,K as B,k as T,m as I,b as r,M as L,f as x,a6 as $,a7 as H,N as E,O as P,P as ee,Y as te,Q as le,U as se,a8 as ae}from"../../chunks/vendor-af9a6f67.js";import{g as ie,s as re}from"../../chunks/index-21195aa3.js";function J(a,i,t){const g=a.slice();return g[11]=i[t],g}function K(a){let i,t=a[11]+"",g,k;return{c(){i=y("option"),g=W(t),this.h()},l(u){i=v(u,"OPTION",{});var w=F(i);g=Z(w,t),w.forEach(A),this.h()},h(){i.__value=k=a[11],i.value=i.__value},m(u,w){G(u,i,w),h(i,g)},p:B,d(u){u&&A(i)}}}function oe(a){let i,t,g,k,u,w,e,m,z,C,M,f,O,o,b,_,d,c,R,N,V,j,D,U=a[2],p=[];for(let l=0;l<U.length;l+=1)p[l]=K(J(a,U,l));return{c(){i=y("div"),t=y("img"),w=T(),e=y("form"),m=y("select");for(let l=0;l<p.length;l+=1)p[l].c();z=T(),C=y("br"),M=T(),f=y("input"),O=T(),o=y("input"),b=T(),_=y("input"),d=T(),c=y("textarea"),R=T(),N=y("input"),this.h()},l(l){i=v(l,"DIV",{class:!0,style:!0});var n=F(i);t=v(n,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0,style:!0}),w=I(n),e=v(n,"FORM",{class:!0});var s=F(e);m=v(s,"SELECT",{});var S=F(m);for(let q=0;q<p.length;q+=1)p[q].l(S);S.forEach(A),z=I(s),C=v(s,"BR",{}),M=I(s),f=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),O=I(s),o=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),b=I(s),_=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),d=I(s),c=v(s,"TEXTAREA",{name:!0,rows:!0,placeholder:!0,class:!0}),F(c).forEach(A),R=I(s),N=v(s,"INPUT",{class:!0,type:!0}),s.forEach(A),n.forEach(A),this.h()},h(){r(t,"class","p-abs svelte-m7gyp5"),L(t.src,g=a[1].image)||r(t,"src",g),r(t,"width",k=a[0].width),r(t,"height",u=a[0].height),r(t,"alt","Placeholder"),x(t,"z-index","0"),a[1].type===void 0&&$(()=>a[5].call(m)),r(f,"type","text"),r(f,"placeholder","URL"),r(f,"class","svelte-m7gyp5"),r(o,"type","text"),r(o,"placeholder","Title"),r(o,"class","svelte-m7gyp5"),r(_,"type","text"),r(_,"placeholder","Image"),r(_,"class","svelte-m7gyp5"),r(c,"name","notes"),r(c,"rows","5"),r(c,"placeholder","Notes"),r(c,"class","svelte-m7gyp5"),r(N,"class","o-0 svelte-m7gyp5"),r(N,"type","submit"),N.value="Go",r(e,"class","p-abs p20 svelte-m7gyp5"),r(i,"class","tile p-rel"),r(i,"style",V=`width:${a[0].width};height:${a[0].height};`)},m(l,n){G(l,i,n),h(i,t),h(i,w),h(i,e),h(e,m);for(let s=0;s<p.length;s+=1)p[s].m(m,null);H(m,a[1].type),h(e,z),h(e,C),h(e,M),h(e,f),E(f,a[1].url),h(e,O),h(e,o),E(o,a[1].title),h(e,b),h(e,_),E(_,a[1].image),h(e,d),h(e,c),E(c,a[1].notes),h(e,R),h(e,N),j||(D=[P(m,"change",a[5]),P(f,"blur",a[3]),P(f,"input",a[6]),P(o,"input",a[7]),P(_,"input",a[8]),P(c,"input",a[9]),P(e,"submit",ee(a[4]))],j=!0)},p(l,[n]){if(n&6&&!L(t.src,g=l[1].image)&&r(t,"src",g),n&1&&k!==(k=l[0].width)&&r(t,"width",k),n&1&&u!==(u=l[0].height)&&r(t,"height",u),n&4){U=l[2];let s;for(s=0;s<U.length;s+=1){const S=J(l,U,s);p[s]?p[s].p(S,n):(p[s]=K(S),p[s].c(),p[s].m(m,null))}for(;s<p.length;s+=1)p[s].d(1);p.length=U.length}n&6&&H(m,l[1].type),n&6&&f.value!==l[1].url&&E(f,l[1].url),n&6&&o.value!==l[1].title&&E(o,l[1].title),n&6&&_.value!==l[1].image&&E(_,l[1].image),n&6&&E(c,l[1].notes),n&1&&V!==(V=`width:${l[0].width};height:${l[0].height};`)&&r(i,"style",V)},i:B,o:B,d(l){l&&A(i),te(p,l),j=!1,le(D)}}}function ne(a,i,t){const g=o=>o.charAt(0).toUpperCase()+o.slice(1);let{size:k={width:0,height:0}}=i;const u=["Article","Repository","Video","Movie","Book"],w=o=>{t(1,e.title="Fetching...",e),t(1,e.image="Fetching...",e);const b=[o.target.value,o.target.value.split("/")[0].split("?")[0]].map(ie);Promise.all(b).then(_=>{const[d,c]=_;d.title&&t(1,e.title=d.title||"",e),d.image&&t(1,e.image=d.image||c.image||"",e),d.type&&t(1,e.type=g(d.type)||"Article",e)})};let e={title:"",type:"Video",url:"",image:"",notes:""};const m=o=>{const b=e,_=se.exports.crypt.uuid().split("-")[0],c=`${(+new Date).toString(36)}-${_}`;b.type||(b.type="Article"),re.put("amos",c,b).then(R=>{R.charAt(0)==='"'?(console.log(200),t(1,e={title:"",type:"Article",url:"",image:"",notes:""})):(t(1,e.title="ERROR Sending!",e),t(1,e.image="Check console",e),console.log(R))})};function z(){e.type=ae(this),t(1,e),t(2,u)}function C(){e.url=this.value,t(1,e),t(2,u)}function M(){e.title=this.value,t(1,e),t(2,u)}function f(){e.image=this.value,t(1,e),t(2,u)}function O(){e.notes=this.value,t(1,e),t(2,u)}return a.$$set=o=>{"size"in o&&t(0,k=o.size)},[k,e,u,w,m,z,C,M,f,O]}class pe extends Q{constructor(i){super();X(this,i,ne,oe,Y,{size:0})}}export{pe as default};
