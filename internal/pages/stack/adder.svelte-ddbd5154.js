import{S as Q,i as X,s as Y,e as y,t as W,c as v,a as L,h as Z,d as T,g as D,J as h,K as q,k as I,m as N,b as r,M as G,f as x,a7 as $,a8 as H,N as E,O as R,P as ee,Y as te,Q as le,U as se,a9 as ae}from"../../chunks/vendor-88a0371f.js";import{g as ie,s as re}from"../../chunks/index-21195aa3.js";function J(a,i,t){const g=a.slice();return g[11]=i[t],g}function K(a){let i,t=a[11]+"",g,k;return{c(){i=y("option"),g=W(t),this.h()},l(n){i=v(n,"OPTION",{});var w=L(i);g=Z(w,t),w.forEach(T),this.h()},h(){i.__value=k=a[11],i.value=i.__value},m(n,w){D(n,i,w),h(i,g)},p:q,d(n){n&&T(i)}}}function oe(a){let i,t,g,k,n,w,e,d,U,z,M,m,O,o,b,_,f,c,A,C,F,V,B,P=a[2],p=[];for(let l=0;l<P.length;l+=1)p[l]=K(J(a,P,l));return{c(){i=y("div"),t=y("img"),w=I(),e=y("form"),d=y("select");for(let l=0;l<p.length;l+=1)p[l].c();U=I(),z=y("br"),M=I(),m=y("input"),O=I(),o=y("input"),b=I(),_=y("input"),f=I(),c=y("textarea"),A=I(),C=y("input"),this.h()},l(l){i=v(l,"DIV",{class:!0,style:!0});var u=L(i);t=v(u,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0,style:!0}),w=N(u),e=v(u,"FORM",{class:!0});var s=L(e);d=v(s,"SELECT",{});var S=L(d);for(let j=0;j<p.length;j+=1)p[j].l(S);S.forEach(T),U=N(s),z=v(s,"BR",{}),M=N(s),m=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),O=N(s),o=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),b=N(s),_=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),f=N(s),c=v(s,"TEXTAREA",{name:!0,rows:!0,placeholder:!0,class:!0}),L(c).forEach(T),A=N(s),C=v(s,"INPUT",{class:!0,type:!0}),s.forEach(T),u.forEach(T),this.h()},h(){r(t,"class","p-abs svelte-m7gyp5"),G(t.src,g=a[1].image)||r(t,"src",g),r(t,"width",k=a[0].width),r(t,"height",n=a[0].height),r(t,"alt","Placeholder"),x(t,"z-index","0"),a[1].type===void 0&&$(()=>a[5].call(d)),r(m,"type","text"),r(m,"placeholder","URL"),r(m,"class","svelte-m7gyp5"),r(o,"type","text"),r(o,"placeholder","Title"),r(o,"class","svelte-m7gyp5"),r(_,"type","text"),r(_,"placeholder","Image"),r(_,"class","svelte-m7gyp5"),r(c,"name","notes"),r(c,"rows","5"),r(c,"placeholder","Notes"),r(c,"class","svelte-m7gyp5"),r(C,"class","o-0 svelte-m7gyp5"),r(C,"type","submit"),C.value="Go",r(e,"class","p-abs p20 svelte-m7gyp5"),r(i,"class","tile p-rel"),r(i,"style",F=`width:${a[0].width};height:${a[0].height};`)},m(l,u){D(l,i,u),h(i,t),h(i,w),h(i,e),h(e,d);for(let s=0;s<p.length;s+=1)p[s].m(d,null);H(d,a[1].type),h(e,U),h(e,z),h(e,M),h(e,m),E(m,a[1].url),h(e,O),h(e,o),E(o,a[1].title),h(e,b),h(e,_),E(_,a[1].image),h(e,f),h(e,c),E(c,a[1].notes),h(e,A),h(e,C),V||(B=[R(d,"change",a[5]),R(m,"blur",a[3]),R(m,"input",a[6]),R(o,"input",a[7]),R(_,"input",a[8]),R(c,"input",a[9]),R(e,"submit",ee(a[4]))],V=!0)},p(l,[u]){if(u&6&&!G(t.src,g=l[1].image)&&r(t,"src",g),u&1&&k!==(k=l[0].width)&&r(t,"width",k),u&1&&n!==(n=l[0].height)&&r(t,"height",n),u&4){P=l[2];let s;for(s=0;s<P.length;s+=1){const S=J(l,P,s);p[s]?p[s].p(S,u):(p[s]=K(S),p[s].c(),p[s].m(d,null))}for(;s<p.length;s+=1)p[s].d(1);p.length=P.length}u&6&&H(d,l[1].type),u&6&&m.value!==l[1].url&&E(m,l[1].url),u&6&&o.value!==l[1].title&&E(o,l[1].title),u&6&&_.value!==l[1].image&&E(_,l[1].image),u&6&&E(c,l[1].notes),u&1&&F!==(F=`width:${l[0].width};height:${l[0].height};`)&&r(i,"style",F)},i:q,o:q,d(l){l&&T(i),te(p,l),V=!1,le(B)}}}function ne(a,i,t){const g=o=>o.charAt(0).toUpperCase()+o.slice(1);let{size:k={width:0,height:0}}=i;const n=["Article","Collection","Repository","Video","Movie","Book"],w=o=>{t(1,e.title="Fetching...",e),t(1,e.image="Fetching...",e);const b=[o.target.value,o.target.value.split("/")[0].split("?")[0]].map(ie);Promise.all(b).then(_=>{const[f,c]=_;f.title&&t(1,e.title=f.title||"No Title Recieved",e),f.image&&t(1,e.image=f.image||c.image||"No Image Available",e),f.type&&(n.map(A=>A.toLowerCase()).includes(f.type.toLowerCase())||t(1,e.notes=f.type,e),t(1,e.type=g(f.type)||"Article",e))})};let e={title:"",type:"Video",url:"",image:"",notes:""};const d=o=>{const b=e,_=se.exports.crypt.uuid().split("-")[0],c=`${(+new Date).toString(36)}-${_}`;b.type||(b.type="Article"),re.put("amos",c,b).then(A=>{A.charAt(0)==='"'?(console.log(200),t(1,e={title:"",type:"Article",url:"",image:"",notes:""})):(t(1,e.title="ERROR Sending!",e),t(1,e.image="Check console",e),console.log(A))})};function U(){e.type=ae(this),t(1,e),t(2,n)}function z(){e.url=this.value,t(1,e),t(2,n)}function M(){e.title=this.value,t(1,e),t(2,n)}function m(){e.image=this.value,t(1,e),t(2,n)}function O(){e.notes=this.value,t(1,e),t(2,n)}return a.$$set=o=>{"size"in o&&t(0,k=o.size)},[k,e,n,w,d,U,z,M,m,O]}class pe extends Q{constructor(i){super();X(this,i,ne,oe,Y,{size:0})}}export{pe as default};
