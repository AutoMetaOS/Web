import{$ as p,D as d}from"./vendor-c8cae9c7.js";const f={AES_KEY:"Punam@2601",YT_KEY:"AIzaSyDFZfyjFBWARwcMJp1aGxwV5HxXADV25H8",db:{pub:"hmwaoksv",priv:"8894c311-8da2-46ed-b961-ab8102398a72",user:"AMOSdb",pass:"kyCpor-3punqi-pyfryr"}},{F:g}=p;let a=0,w=()=>a>=300?"long":"soft";const b=t=>{const e=g("#magicBox");t.timeLeft<=10?e.classList.add("visible"):e.classList.remove("visible")},L=t=>{const{duration:e,currentTime:s}=JSON.parse(t.data).info;e&&(a=e);const n=~~(a-s),i={timeLeft:n||a,fracLeft:n?n/a:1,type:w()};return b(i),console.log(i),0},_=(t,e)=>{const s=JSON.stringify(e);(t==null?void 0:t.contentWindow)&&t.contentWindow.postMessage(s,"*")},u=(t,e)=>{if(typeof window!="undefined")if(e){const s=JSON.stringify({t:e});return localStorage.setItem(t,s),0}else{const s=localStorage.getItem(t);return JSON.parse(s).t}else return 0},{url_params:y}=p,c=t=>fetch("https://youtube.googleapis.com/youtube/v3"+t,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then(e=>e.json()),r=f.YT_KEY,h=d(""),v=d(0),T=t=>c(`/search?part=snippet&key=${r}&q=${t}&type=video&maxResults=10`),S=(t,e)=>{y.get().id||y.set("id",t);const s=`www.youtube-nocookie.com/embed/${t}?autoplay=1&enablejsapi=1`;return window.history.pushState("","",`?id=${t}`),v.set(+e),h.set("https://"+s),0};let l=2;const j=t=>{const e=t.target.parentElement.dataset;S(e.slug,e.count),window.scrollTo(0,0),document.title=e.title,l--,l===0&&(u("last_seen",Date.now()),l=-1)},k=(t,e=3)=>c(`/playlistItems?part=snippet&playlistId=${t}&key=${r}&maxResults=${e}`),x=async t=>{const e=(new Date-u("last_seen"))/864e5,s=`/channels?part=snippet%2CcontentDetails&id=${t.map(o=>o.id).join("%2C")}&key=${r}`,n=await c(s);return(await Promise.all(n.items.map(o=>o.contentDetails.relatedPlaylists.uploads).map(async o=>(await k(o+"&order=date",4)).items))).flat().filter(o=>(new Date-new Date(o.snippet.publishedAt))/864e5<e+1).map(o=>o.snippet)};export{h as a,j as b,x as g,L as o,_ as p,T as s,v as t,S as v};
