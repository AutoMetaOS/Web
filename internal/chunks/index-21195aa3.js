const o=t=>{var e;return(e=new URL(t||"https://os.nukes.in"))==null?void 0:e.hostname.replace(/^www\./,"")},p=({url:t,image:e})=>e||((t==null?void 0:t.includes("wikipedia"))?"https://wallpaperaccess.com/full/7408458.png":"/OUI/icons/amos.png"),u=async t=>{let e={title:"",image:"",type:""};if(t.includes("youtube")&&(e.type="Video",e.image="https://i.ytimg.com/vi/"+t.split("v=")[1].split("&")[0]+"/maxresdefault.jpg"),t.includes("youtu.be"))e.type="Video",e.image="https://i.ytimg.com/vi/"+t.split(".be/")[1].split("?")[0]+"/maxresdefault.jpg";else{const s=await fetch(`https://api.nukes.in/quick/metadata?url=${t}`).then(n=>n.json()),a=s==null?void 0:s.meta;a&&(e.title=a.title,e.image=a.image,e.type=a.type||"Article")}return e},c="https://api.nukes.in/",r=t=>{const e=`"${t.type}":"${t.url}","title":"${t.title}","image":"${t.image}","notes":"${t.notes}"`;return btoa(e)},i=async t=>await(await fetch(c+t)).text(),l={list:async t=>await i(`${t}/list`),get:async(t,e)=>await i(`${t}/get?id=${e}`),delete:async(t,e)=>await i(`${t}/delete?id=${e}`),put:async(t,e,s)=>await i(`${t}/put?id=${e}&value=${r(s)}`)};export{u as g,p as i,l as s,o as u};
