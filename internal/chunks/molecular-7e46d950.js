var w=Object.defineProperty;var g=(s,t,e)=>t in s?w(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var d=(s,t,e)=>(g(s,typeof t!="symbol"?t+"":t,e),e),y=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var n=(s,t,e)=>(y(s,t,"read from private field"),e?e.call(s):t.get(s)),a=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},c=(s,t,e,r)=>(y(s,t,"write to private field"),r?r.call(s,e):t.set(s,e),e);const b="https://api.nukes.in";var l;class q extends Date{constructor(){super(...arguments);a(this,l,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])}timeSince(t=this.getTime()){t=0|(Date.now()-new Date(t))/1e3;let e,r={second:60,minute:60,hour:24,day:7,week:4.35,month:12,year:1e4},i;for(e in r)if(i=t%r[e],!(t=0|t/r[e]))return i+" "+(i-1?e+"s":e)}toLocal(t="en-GB"){return new Date(this.getTime()||new Date).toLocaleDateString(t,{weekday:"short",day:"numeric",hour12:!1,hour:"2-digit",month:"short",minute:"2-digit"})}secondsToClock(t){return[3600,60].reduceRight((e,r)=>i=>[Math.floor(i/r)].concat(e(i%r)),e=>[e])(t).map(e=>e.toString().padStart(2,"0")).join(":")}clockToSeconds(t){const e=t.split(":");return+e[0]*3600+ +e[1]*60+ +e[2]}}l=new WeakMap;var h,u,o;class D{constructor(t,e,r){a(this,h,void 0);a(this,u,void 0);a(this,o,void 0);d(this,"change_type",t=>c(this,u,t||"json"));d(this,"handleError",t=>console.warn(t));c(this,h,t),c(this,u,e||"json"),c(this,o,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:(r==null?void 0:r.identity)==="anonymous"?"no-referrer":"strict-origin-when-cross-origin"})}async response_processor(t){const{headers:e}=t;return(e.get("content-type")||"").includes("application/json")?await t.json():await t.text()}data_processor(t){let e;typeof t=="object"&&(e=JSON.stringify(t)),typeof t=="string"&&(e=t),n(this,o).body=e}async requester(t=""){let e=await fetch(n(this,h)+t,n(this,o)).catch(this.handleError);if(e&&!e.ok)return`An ${e.status} has occured on: ${n(this,o).method}`;if(!e)return"Request Failed";const r=await this.response_processor(e);return n(this,o).body&&delete n(this,o).body,r}async get(t){return n(this,o).method="GET",n(this,o).body&&delete n(this,o).body,await this.requester(t)}async post(t,e){return n(this,o).method="POST",e&&this.data_processor(e),await this.requester(t)}async delete(t,e){return n(this,o).method="DELETE",e&&this.data_processor(e),await this.requester(t)}async put(t,e){return n(this,o).method="PUT",e&&this.data_processor(e),await this.requester(t)}async patch(t,e){return n(this,o).method="PATCH",e&&this.data_processor(e),await this.requester(t)}}h=new WeakMap,u=new WeakMap,o=new WeakMap;const S=function(s,t,e){let r;return()=>{let i=this,p=arguments,f=function(){r=null,e||s.apply(i,p)},m=e&&!r;clearTimeout(r),r=setTimeout(f,t),m&&s.apply(i,p)}};export{q as K,D as R,b as c,S as d};
