import{D as r,$ as p,a5 as m}from"./vendor-1a0fbb3d.js";const h={AES_KEY:"Punam@2601",YT_KEY:"AIzaSyDFZfyjFBWARwcMJp1aGxwV5HxXADV25H8",db:{pub:"hmwaoksv",priv:"8894c311-8da2-46ed-b961-ab8102398a72",user:"AMOSdb",pass:"kyCpor-3punqi-pyfryr"}},i=h.YT_KEY,c=t=>fetch("https://youtube.googleapis.com/youtube/v3"+t,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then(e=>e.json()),w=(t,e=3)=>c(`/playlistItems?part=snippet%2CcontentDetails&playlistId=${t}&key=${i}&maxResults=${e}`),g=t=>c(`/search?part=snippet&key=${i}&q=${t}&type=video&maxResults=10`),b=t=>c(`/search?channelId=${t}&part=snippet&order=date&maxResults=5&key=${i}`),L=async t=>{const e=`/channels?part=snippet%2CcontentDetails&id=${t.map(o=>o.id).join("%2C")}&key=${i}`,s=await c(e);return s.error&&alert("QUOTA EXCEEDED"),(await Promise.all(s.items.map(o=>o.contentDetails.relatedPlaylists.uploads).map(async o=>(await w(o+"&order=date",5)).items))).flat().filter(o=>(new Date-new Date(o.contentDetails.videoPublishedAt))/864e5<4)},{F:$}=p,P=r([]),D=r(""),d=r("URL"),u=t=>{let e;t instanceof HTMLElement?e=t:e=t.target.parentElement;const{dataset:s,id:n}=e;j.videoProcessor(s.slug,n),window.scrollTo(0,0),document.title=s.title},k=t=>{const[e,s]=t.split("-");if(s===0)return;const n=$(`#${e}-${s-1}`);u(n)},{url_params:y,F:v}=p;let a=0,E=()=>a>=300?"long":"soft";const x=t=>{const e=v("#magicBox");t.fracLeft<=.05||t.timeLeft<=30?e.classList.add("visible"):e.classList.remove("visible"),(t.fracLeft<=.01||t.timeLeft<=5)&&k(m(d))},T=(t,e)=>{y.get().id||y.set("id",t);const s=`www.youtube-nocookie.com/embed/${t}?autoplay=1&enablejsapi=1`;return window.history.pushState("","",`?id=${t}`),d.set(e),D.set("https://"+s),0},A=t=>{const{duration:e,currentTime:s}=JSON.parse(t.data).info;e&&(a=e);const n=~~(a-s),l={timeLeft:n||a,fracLeft:n?n/a:1,type:E()};return x(l),0},R=(t,e)=>{const s=JSON.stringify(e);(t==null?void 0:t.contentWindow)&&t.contentWindow.postMessage(s,"*")},S=t=>{t=0|(Date.now()-new Date(t))/1e3;let e,s={second:60,minute:60,hour:24,day:7,week:4.35,month:12,year:1e4},n;for(e in s)if(n=t%s[e],!(t=0|t/s[e]))return n+" "+(n-1?e+"s":e)},Y={search:g,channel:b,getRecents:L},j={videoSet:u,videoProcessor:T,onMessage:A,postMessage:R,timeSince:S};export{k as a,P as c,j as p,d as t,D as v,Y as y};
