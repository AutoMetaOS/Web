const o=({type:t,url:e})=>{var s;return e=(s=new URL(e||"https://os.nukes.in"))==null?void 0:s.hostname.replace(/^www\./,""),t==="Article"?t=`ARTICLE ${e}`:t},p=async t=>{let e={title:"",image:"",type:""};if(t.includes("youtube")&&(e.type="Video",e.image="https://i.ytimg.com/vi/"+t.split("v=")[1].split("&")[0]+"/maxresdefault.jpg"),t.includes("youtu.be"))e.type="Video",e.image="https://i.ytimg.com/vi/"+t.split(".be/")[1].split("?")[0]+"/maxresdefault.jpg";else{const s=await fetch(`https://api.nukes.in/quick/metadata?url=${t}`).then(n=>n.json()),a=s==null?void 0:s.meta;a&&(e.title=a.title,e.image=a.image,e.type=a.type||"Article")}return e},c="https://api.nukes.in/",r=t=>{const e=`"${t.type}":"${t.url}","title":"${t.title}","image":"${t.image}"`;return btoa(e)},i=async t=>await(await fetch(c+t)).text(),l={list:async t=>await i(`${t}/list`),get:async(t,e)=>await i(`${t}/get?id=${e}`),delete:async(t,e)=>await i(`${t}/delete?id=${e}`),put:async(t,e,s)=>await i(`${t}/put?id=${e}&value=${r(s)}`)};export{p as g,l as s,o as t};
