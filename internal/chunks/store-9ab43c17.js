import{$ as d,D as u}from"./vendor-58b3727c.js";const g={AES_KEY:"Punam@2601",YT_KEY:"AIzaSyDFZfyjFBWARwcMJp1aGxwV5HxXADV25H8",db:{pub:"hmwaoksv",priv:"8894c311-8da2-46ed-b961-ab8102398a72",user:"AMOSdb",pass:"kyCpor-3punqi-pyfryr"}},{F:b}=d;let a=0,w=()=>a>=300?"long":"soft";const h=t=>{const e=b("#magicBox");t.timeLeft<=10?e.classList.add("visible"):e.classList.remove("visible")},A=t=>{const{duration:e,currentTime:s}=JSON.parse(t.data).info;e&&(a=e);const n=~~(a-s),i={timeLeft:n||a,fracLeft:n?n/a:1,type:w()};return h(i),console.log(i),0},D=(t,e)=>{const s=JSON.stringify(e);(t==null?void 0:t.contentWindow)&&t.contentWindow.postMessage(s,"*")},y=(t,e)=>{if(e){const s=JSON.stringify({t:e});return localStorage.setItem(t,s),0}else{const s=localStorage.getItem(t);return JSON.parse(s).t}},{url_params:m}=d,c=t=>fetch("https://youtube.googleapis.com/youtube/v3"+t,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then(e=>e.json()),r=g.YT_KEY,v=u(""),S=u([0,0]),T=t=>c(`/search?part=snippet&key=${r}&q=${t}&type=video&maxResults=10`),k=(t,e)=>{m.get().id||m.set("id",t);const s=`www.youtube-nocookie.com/embed/${t}?autoplay=1&enablejsapi=1`;return window.history.pushState("","",`?id=${t}`),S.set(e.split(",")),v.set("https://"+s),0};let l=2;const j=t=>{const e=t.target.parentElement.dataset;k(e.slug,e.count),window.scrollTo(0,0),document.title=e.title,l--,l===0&&(y("last_seen",Date.now()),l=-1)},$=(t,e=3)=>c(`/playlistItems?part=snippet&playlistId=${t}&key=${r}&maxResults=${e}`),x=async t=>{const e=y("last_seen"),s=`/channels?part=snippet%2CcontentDetails&id=${t.map(o=>o.id).join("%2C")}&key=${r}`,n=await c(s);return(await Promise.all(n.items.map(o=>o.contentDetails.relatedPlaylists.uploads).map(async o=>(await $(o+"&order=date",4)).items))).flat().filter(o=>{const p=+new Date(o.snippet.publishedAt),f=1/2*864e5;return e+f<p})};export{v as a,j as b,x as g,A as o,D as p,T as s,S as t,k as v};
