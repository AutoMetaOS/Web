import{$ as p,D as d}from"./vendor-88a0371f.js";const m={AES_KEY:"Punam@2601",YT_KEY:"AIzaSyDFZfyjFBWARwcMJp1aGxwV5HxXADV25H8",db:{pub:"hmwaoksv",priv:"8894c311-8da2-46ed-b961-ab8102398a72",user:"AMOSdb",pass:"kyCpor-3punqi-pyfryr"}},{F:f}=p;let a=0,g=()=>a>=300?"long":"soft";const w=t=>{const e=f("#magicBox");t.timeLeft<=10?e.classList.add("visible"):e.classList.remove("visible")},_=t=>{const{duration:e,currentTime:s}=JSON.parse(t.data).info;e&&(a=e);const o=~~(a-s),i={timeLeft:o||a,fracLeft:o?o/a:1,type:g()};return w(i),console.log(i),0},D=(t,e)=>{const s=JSON.stringify(e);(t==null?void 0:t.contentWindow)&&t.contentWindow.postMessage(s,"*")},u=(t,e)=>{const s=localStorage;if(e){const o=JSON.stringify({value:e});return s.setItem(t,o),0}else{const o=s.getItem(t);return JSON.parse(o).value}},{url_params:y}=p,c=t=>fetch("https://youtube.googleapis.com/youtube/v3"+t,{method:"GET",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then(e=>e.json()),l=m.YT_KEY,b=d(""),h=d([0,0]),T=t=>c(`/search?part=snippet&key=${l}&q=${t}&type=video&maxResults=10`),v=(t,e)=>{y.get().id||y.set("id",t);const s=`www.youtube-nocookie.com/embed/${t}?autoplay=1&enablejsapi=1`;return window.history.pushState("","",`?id=${t}`),h.set(e.split(",")),b.set("https://"+s),0};let r=2;const j=t=>{const e=t.target.parentElement.dataset;console.log(e),v(e.slug,e.count),window.scrollTo(0,0),document.title=e.title,r--,r===0&&(u("last_seen",Date.now()),r=-1)},k=(t,e=3)=>c(`/playlistItems?part=snippet&playlistId=${t}&key=${l}&maxResults=${e}`),x=async t=>{const e=u("last_seen"),s=`/channels?part=snippet%2CcontentDetails&id=${t.map(n=>n.id).join("%2C")}&key=${l}`,o=await c(s);return(await Promise.all(o.items.map(n=>n.contentDetails.relatedPlaylists.uploads).map(async n=>(await k(n+"&order=date",4)).items))).flat().filter(n=>e+864e5/2<new Date(n.snippet.publishedAt))};export{b as a,j as b,x as g,_ as o,D as p,T as s,h as t,v};
