const u=t=>{var e;return(e=new URL(t||"https://os.nukes.in"))==null?void 0:e.hostname.replace(/^www\./,"")},l=({url:t,image:e})=>e||((t==null?void 0:t.includes("wikipedia"))?"https://wallpaperaccess.com/full/7408458.png":"/OUI/icons/amos.png"),m=t=>t==="Video"?"#f00":t==="Collection"?"#ff0":t==="Reference"?"#2af":t==="Repository"?"#a2f":"#fff",o=["Article","Collection","Reference","Repository","Video"],d=async t=>{let e={title:"",image:"",type:""};if(t.includes("youtube")&&(e.type="Video",e.image="https://i.ytimg.com/vi/"+t.split("v=")[1].split("&")[0]+"/maxresdefault.jpg"),t.includes("youtu.be"))e.type="Video",e.image="https://i.ytimg.com/vi/"+t.split(".be/")[1].split("?")[0]+"/maxresdefault.jpg";else{const s=await fetch(`https://api.nukes.in/quick/metadata?url=${t}`).then(r=>r.json()),a=s==null?void 0:s.meta;a&&(e.title=a.title,e.image=a.image,e.type=a.type||"Article")}return e},c="https://api.nukes.in/",p=t=>{const e=`"${t.type}":"${t.url}","title":"${t.title}","image":"${t.image}","notes":"${t.notes}"`;return btoa(e)},n=async t=>await(await fetch(c+t)).text(),f=t=>{for(const e of o)t.hasOwnProperty(e)&&(t.type=e,t.url=t[e],delete t[e]);return t},i=t=>JSON.parse(t).map(e=>JSON.parse(`{${e}}`)).map(f),y={type:async(t,e)=>{const s=await n(`amos/type?db=${t}&q=${e}`);return i(s)},list:async t=>{const e=await n(`amos/all?db=${t}`);return i(e)},get:async(t,e)=>await n(`amos/get?db=${t}&id=${e}`),delete:async(t,e)=>await n(`amos/delete?db=${t}&id=${e}`),put:async(t,e,s)=>await n(`amos/put?db=${t}&id=${e}&value=${p(s)}`)};export{o as a,d as g,l as i,y as s,m as t,u};
