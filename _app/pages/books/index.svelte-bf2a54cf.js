import{S as O,i as R,s as V,w as P,x as A,y as C,q as $,o as w,B as G,e as d,k as B,c as k,a as I,m as E,d as j,b as f,g as Y,J as h,a4 as U,U as q,a3 as z,p as H,Y as K,G as L,n as Q}from"../../chunks/index-a063a824.js";import W from"./components/book.svelte-0ba4474b.js";import X from"./stack.svelte-ee8dfd66.js";import{p as N,a as Z}from"../../chunks/functions-cb3df619.js";import"../../chunks/index-a67a2886.js";import"../../chunks/index-de878877.js";const x="null",ee="default",te="Fetching...",se=[],oe=[],ae=[],le=null;var D={objective:x,cover_edition_key:ee,title:te,author_name:se,publish_year:oe,tags:ae,cover_i:le};function F(r,s,a){const e=r.slice();return e[5]=s[a],e}function M(r){let s,a;return s=new W({props:{objective:r[5].objective,id:r[5].cover_edition_key,title:r[5].title,author:r[5].author_name,image:r[5].cover_i,tags:r[5].subject,published:r[5].publish_year}}),{c(){P(s.$$.fragment)},l(e){A(s.$$.fragment,e)},m(e,n){C(s,e,n),a=!0},p(e,n){const c={};n&1&&(c.objective=e[5].objective),n&1&&(c.id=e[5].cover_edition_key),n&1&&(c.title=e[5].title),n&1&&(c.author=e[5].author_name),n&1&&(c.image=e[5].cover_i),n&1&&(c.tags=e[5].subject),n&1&&(c.published=e[5].publish_year),s.$set(c)},i(e){a||($(s.$$.fragment,e),a=!0)},o(e){w(s.$$.fragment,e),a=!1},d(e){G(s,e)}}}function ne(r){let s,a,e,n,c,v,m,b,p,y,S,T;m=new X({props:{omni:r[1]}});let _=r[0].map(N.results),o=[];for(let t=0;t<_.length;t+=1)o[t]=M(F(r,_,t));const J=t=>w(o[t],1,1,()=>{o[t]=null});return{c(){s=d("main"),a=d("form"),e=d("input"),n=B(),c=d("input"),v=B(),P(m.$$.fragment),b=B(),p=d("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=k(t,"MAIN",{class:!0});var l=I(s);a=k(l,"FORM",{class:!0});var u=I(a);e=k(u,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),n=E(u),c=k(u,"INPUT",{type:!0,class:!0}),u.forEach(j),v=E(l),A(m.$$.fragment,l),b=E(l),p=k(l,"DIV",{class:!0});var i=I(p);for(let g=0;g<o.length;g+=1)o[g].l(i);i.forEach(j),l.forEach(j),this.h()},h(){f(e,"type","text"),f(e,"spellcheck","false"),f(e,"class","w-50 svelte-mg22m3"),f(e,"placeholder","Search"),f(c,"type","submit"),f(c,"class","o-0 svelte-mg22m3"),c.value="go",f(a,"class","w-100 p-fix p10 blur svelte-mg22m3"),f(p,"class","\u0192 \u0192\u2211 \u2206-bw w-100"),f(s,"class","p0 m0 \u0192 \u0192\u2211 p-rel svelte-mg22m3")},m(t,l){Y(t,s,l),h(s,a),h(a,e),U(e,r[1]),h(a,n),h(a,c),h(s,v),C(m,s,null),h(s,b),h(s,p);for(let u=0;u<o.length;u+=1)o[u].m(p,null);y=!0,S||(T=[q(e,"input",r[3]),q(a,"submit",z(r[2]))],S=!0)},p(t,[l]){l&2&&e.value!==t[1]&&U(e,t[1]);const u={};if(l&2&&(u.omni=t[1]),m.$set(u),l&1){_=t[0].map(N.results);let i;for(i=0;i<_.length;i+=1){const g=F(t,_,i);o[i]?(o[i].p(g,l),$(o[i],1)):(o[i]=M(g),o[i].c(),$(o[i],1),o[i].m(p,null))}for(Q(),i=_.length;i<o.length;i+=1)J(i);H()}},i(t){if(!y){$(m.$$.fragment,t);for(let l=0;l<_.length;l+=1)$(o[l]);y=!0}},o(t){w(m.$$.fragment,t),o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)w(o[l]);y=!1},d(t){t&&j(s),G(m),K(o,t),S=!1,L(T)}}}function re(r,s,a){let e,n;const c=()=>{console.log(D),a(0,e=[D]);const m=N.form.search(n);Z.search(m).then(b=>a(0,e=b))};function v(){n=this.value,a(1,n)}return a(0,e=[]),a(1,n=""),[e,n,c,v]}class _e extends O{constructor(s){super(),R(this,s,re,ne,V,{})}}export{_e as default};
