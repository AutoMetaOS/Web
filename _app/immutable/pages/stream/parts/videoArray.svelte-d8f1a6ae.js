import{S as B,i as R,s as v,w as G,x as H,y as J,q as E,o as P,B as O,e as k,t as X,k as M,c as b,a as D,h as j,d as z,m as T,b as d,f as F,g as K,J as g,a4 as U,T as N,p as L,X as Q,G as W,v as Y,n as Z,ad as x}from"../../../chunks/index-f6cfea4e.js";import{g as $}from"../../../chunks/index-28ec6f34.js";import ee from"../components/videoCard.svelte-15b674ab.js";import"../../../chunks/index-ff9ff7c9.js";import"../../../chunks/store-e55811e1.js";function V(l,s,a){const t=l.slice();return t[12]=s[a],t[14]=a,t}function q(l){let s,a;return s=new ee({props:{count:`${l[5]}_${l[14]}`,title:l[12].title,slug:l[12].slug,image:l[12].image,details:[l[12].channel,l[6](l[12].date)]}}),{c(){G(s.$$.fragment)},l(t){H(s.$$.fragment,t)},m(t,c){J(s,t,c),a=!0},p(t,c){const f={};c&3&&(f.title=t[12].title),c&3&&(f.slug=t[12].slug),c&3&&(f.image=t[12].image),c&3&&(f.details=[t[12].channel,t[6](t[12].date)]),s.$set(f)},i(t){a||(E(s.$$.fragment,t),a=!0)},o(t){P(s.$$.fragment,t),a=!1},d(t){O(s,t)}}}function te(l){let s,a,t,c,f,m,u,h,y,_,w,A,p=l[0].sort(l[2]).slice(0,l[1]*4),r=[];for(let e=0;e<p.length;e+=1)r[e]=q(V(l,p,e));const o=e=>P(r[e],1,1,()=>{r[e]=null});return{c(){s=k("section"),a=k("div"),t=k("span"),c=X("Updates"),f=M(),m=k("span"),u=k("input"),y=M();for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){s=b(e,"SECTION",{class:!0,id:!0});var i=D(s);a=b(i,"DIV",{class:!0});var n=D(a);t=b(n,"SPAN",{});var S=D(t);c=j(S,"Updates"),S.forEach(z),f=T(n),m=b(n,"SPAN",{style:!0});var C=D(m);u=b(C,"INPUT",{type:!0,min:!0,max:!0}),C.forEach(z),n.forEach(z),y=T(i);for(let I=0;I<r.length;I+=1)r[I].l(i);i.forEach(z),this.h()},h(){d(u,"type","range"),d(u,"min",0),d(u,"max",h=l[3](l[0].length)),F(m,"font-size","1.25rem"),d(a,"class","w-100 \u0192 p5 \u2206-bw"),d(s,"class","\u0192 p20 \u0192\u2211"),d(s,"id","updates")},m(e,i){K(e,s,i),g(s,a),g(a,t),g(t,c),g(a,f),g(a,m),g(m,u),U(u,l[1]),g(s,y);for(let n=0;n<r.length;n+=1)r[n].m(s,null);_=!0,w||(A=[N(t,"click",l[4]),N(u,"change",l[11]),N(u,"input",l[11])],w=!0)},p(e,[i]){if((!_||i&1&&h!==(h=e[3](e[0].length)))&&d(u,"max",h),i&2&&U(u,e[1]),i&103){p=e[0].sort(e[2]).slice(0,e[1]*4);let n;for(n=0;n<p.length;n+=1){const S=V(e,p,n);r[n]?(r[n].p(S,i),E(r[n],1)):(r[n]=q(S),r[n].c(),E(r[n],1),r[n].m(s,null))}for(Z(),n=p.length;n<r.length;n+=1)o(n);L()}},i(e){if(!_){for(let i=0;i<p.length;i+=1)E(r[i]);_=!0}},o(e){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)P(r[i]);_=!1},d(e){e&&z(s),Q(r,e),w=!1,W(A)}}}function ne(l,s,a){let t,c,{type:f="unknown",initializedArray:m=[],prefetch:u=null,postfetch:h=null}=s;const y=(o,e)=>new Date(e.date)-new Date(o.date),_=o=>Math.ceil(o/4),w=()=>a(0,c=[]),A=(~~(Math.random()*1e16)).toString(36).replaceAll("-","0");Y(async()=>{if(f==="unit"){const e=await m;a(0,c=e.map(h))}else if(f==="array"){const o=m.map(u);console.log(0,o);const e=await Promise.all(o);a(0,c=e.flat(1).map(h))}$.addStream(A,c)});const p=o=>{o=0|(Date.now()-new Date(o))/1e3;let e,i={second:60,minute:60,hour:24,day:7,week:4.35,month:12,year:1e4},n;for(e in i)if(n=o%i[e],!(o=0|o/i[e]))return n+" "+(n-1?e+"s":e)};function r(){t=x(this.value),a(1,t)}return l.$$set=o=>{"type"in o&&a(7,f=o.type),"initializedArray"in o&&a(8,m=o.initializedArray),"prefetch"in o&&a(9,u=o.prefetch),"postfetch"in o&&a(10,h=o.postfetch)},a(1,t=1),a(0,c=[]),[c,t,y,_,w,A,p,f,m,u,h,r]}class ie extends B{constructor(s){super(),R(this,s,ne,te,v,{type:7,initializedArray:8,prefetch:9,postfetch:10})}}export{ie as default};
