import{S as C,i as D,s as I,w as v,k as A,l as g,x as w,m as E,y as S,g as _,q as c,o as m,B,p as M,d as h,X as L,e as N,c as O,a as V,b as X,v as y,n as j}from"../../chunks/index-3a01bbf7.js";import{S as z}from"../../chunks/index-30071b0e.js";import q from"./components/book.svelte-42643fa7.js";import{p as F,b as G}from"../../chunks/functions-2f55c969.js";import"../../chunks/index-cf574cb9.js";function b(a,o,r){const e=a.slice();return e[5]=o[r],e}function k(a){let o,r,e,l;o=new q({props:{objective:"todo",id:a[1]("123456"),title:`${a[0].length}`,author:"Manav",published:"2020"}});let n=a[0],i=[];for(let t=0;t<n.length;t+=1)i[t]=$(b(a,n,t));const p=t=>m(i[t],1,1,()=>{i[t]=null});return{c(){v(o.$$.fragment),r=A();for(let t=0;t<i.length;t+=1)i[t].c();e=g()},l(t){w(o.$$.fragment,t),r=E(t);for(let s=0;s<i.length;s+=1)i[s].l(t);e=g()},m(t,s){S(o,t,s),_(t,r,s);for(let u=0;u<i.length;u+=1)i[u].m(t,s);_(t,e,s),l=!0},p(t,s){const u={};if(s&1&&(u.title=`${t[0].length}`),o.$set(u),s&3){n=t[0];let f;for(f=0;f<n.length;f+=1){const d=b(t,n,f);i[f]?(i[f].p(d,s),c(i[f],1)):(i[f]=$(d),i[f].c(),c(i[f],1),i[f].m(e.parentNode,e))}for(j(),f=n.length;f<i.length;f+=1)p(f);M()}},i(t){if(!l){c(o.$$.fragment,t);for(let s=0;s<n.length;s+=1)c(i[s]);l=!0}},o(t){m(o.$$.fragment,t),i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)m(i[s]);l=!1},d(t){B(o,t),t&&h(r),L(i,t),t&&h(e)}}}function $(a){let o,r;return o=new q({props:{objective:"todo",id:a[1](a[5].bk_id),title:a[5].title,author:a[5].author,image:a[5].image,published:a[5].published}}),{c(){v(o.$$.fragment)},l(e){w(o.$$.fragment,e)},m(e,l){S(o,e,l),r=!0},p(e,l){const n={};l&1&&(n.id=e[1](e[5].bk_id)),l&1&&(n.title=e[5].title),l&1&&(n.author=e[5].author),l&1&&(n.image=e[5].image),l&1&&(n.published=e[5].published),o.$set(n)},i(e){r||(c(o.$$.fragment,e),r=!0)},o(e){m(o.$$.fragment,e),r=!1},d(e){B(o,e)}}}function H(a){let o,r,e=a[0].length>1&&k(a);return{c(){o=N("div"),e&&e.c(),this.h()},l(l){o=O(l,"DIV",{class:!0});var n=V(o);e&&e.l(n),n.forEach(h),this.h()},h(){X(o,"class","\u0192 \u0192\u2211 \u2206-bw w-100 fade")},m(l,n){_(l,o,n),e&&e.m(o,null),r=!0},p(l,[n]){l[0].length>1?e?(e.p(l,n),n&1&&c(e,1)):(e=k(l),e.c(),c(e,1),e.m(o,null)):e&&(j(),m(e,1,1,()=>{e=null}),M())},i(l){r||(c(e),r=!0)},o(l){m(e),r=!1},d(l){l&&h(o),e&&e.d()}}}function J(a,o,r){let e,l,{omni:n=""}=o;const i=t=>(G.update(s=>[...s,t||"1"]),t),p=(t,s)=>t.some(u=>u.toLowerCase().includes(s));return y(()=>z.list("books").then(t=>r(3,e=t))),a.$$set=t=>{"omni"in t&&r(2,n=t.omni)},a.$$.update=()=>{a.$$.dirty&12&&r(0,l=e.filter(t=>p([t.title,t.author],F.form.basic(n).text)))},r(3,e=[]),[l,i,n,e]}class U extends C{constructor(o){super(),D(this,o,J,H,I,{omni:2})}}export{U as default};
