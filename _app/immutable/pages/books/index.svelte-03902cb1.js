import{S as J,i as O,s as R,w as P,x as U,y as A,q as $,o as j,B as C,e as d,k as B,c as k,a as I,m as T,d as y,b as f,g as V,J as _,a4 as q,T as z,a3 as X,p as H,X as K,G as L,n as Q}from"../../chunks/index-f6cfea4e.js";import W from"./components/book.svelte-6c5bd9dd.js";import Y from"./stack.svelte-20b05db2.js";import{p as E,a as Z}from"../../chunks/functions-4c4d8597.js";import"../../chunks/index-30071b0e.js";import"../../chunks/index-ff9ff7c9.js";const x="null",ee="default",te="Fetching...",se=[],oe=[],le=[],ae=null;var D={objective:x,cover_edition_key:ee,title:te,author_name:se,publish_year:oe,tags:le,cover_i:ae};function F(r,s,l){const e=r.slice();return e[5]=s[l],e}function M(r){let s,l;return s=new W({props:{objective:r[5].objective,id:r[5].cover_edition_key,title:r[5].title,author:r[5].author_name,image:r[5].cover_i,tags:r[5].subject,published:r[5].publish_year}}),{c(){P(s.$$.fragment)},l(e){U(s.$$.fragment,e)},m(e,n){A(s,e,n),l=!0},p(e,n){const c={};n&1&&(c.objective=e[5].objective),n&1&&(c.id=e[5].cover_edition_key),n&1&&(c.title=e[5].title),n&1&&(c.author=e[5].author_name),n&1&&(c.image=e[5].cover_i),n&1&&(c.tags=e[5].subject),n&1&&(c.published=e[5].publish_year),s.$set(c)},i(e){l||($(s.$$.fragment,e),l=!0)},o(e){j(s.$$.fragment,e),l=!1},d(e){C(s,e)}}}function ne(r){let s,l,e,n,c,v,u,b,p,w,S,N;u=new Y({props:{omni:r[1]}});let h=r[0].map(E.results),o=[];for(let t=0;t<h.length;t+=1)o[t]=M(F(r,h,t));const G=t=>j(o[t],1,1,()=>{o[t]=null});return{c(){s=d("main"),l=d("form"),e=d("input"),n=B(),c=d("input"),v=B(),P(u.$$.fragment),b=B(),p=d("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=k(t,"MAIN",{class:!0});var a=I(s);l=k(a,"FORM",{class:!0});var m=I(l);e=k(m,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),n=T(m),c=k(m,"INPUT",{type:!0,class:!0}),m.forEach(y),v=T(a),U(u.$$.fragment,a),b=T(a),p=k(a,"DIV",{class:!0});var i=I(p);for(let g=0;g<o.length;g+=1)o[g].l(i);i.forEach(y),a.forEach(y),this.h()},h(){f(e,"type","text"),f(e,"spellcheck","false"),f(e,"class","w-50 svelte-mg22m3"),f(e,"placeholder","Search"),f(c,"type","submit"),f(c,"class","o-0 svelte-mg22m3"),c.value="go",f(l,"class","w-100 p-fix p10 blur svelte-mg22m3"),f(p,"class","\u0192 \u0192\u2211 \u2206-bw w-100"),f(s,"class","p0 m0 \u0192 \u0192\u2211 p-rel svelte-mg22m3")},m(t,a){V(t,s,a),_(s,l),_(l,e),q(e,r[1]),_(l,n),_(l,c),_(s,v),A(u,s,null),_(s,b),_(s,p);for(let m=0;m<o.length;m+=1)o[m].m(p,null);w=!0,S||(N=[z(e,"input",r[3]),z(l,"submit",X(r[2]))],S=!0)},p(t,[a]){a&2&&e.value!==t[1]&&q(e,t[1]);const m={};if(a&2&&(m.omni=t[1]),u.$set(m),a&1){h=t[0].map(E.results);let i;for(i=0;i<h.length;i+=1){const g=F(t,h,i);o[i]?(o[i].p(g,a),$(o[i],1)):(o[i]=M(g),o[i].c(),$(o[i],1),o[i].m(p,null))}for(Q(),i=h.length;i<o.length;i+=1)G(i);H()}},i(t){if(!w){$(u.$$.fragment,t);for(let a=0;a<h.length;a+=1)$(o[a]);w=!0}},o(t){j(u.$$.fragment,t),o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)j(o[a]);w=!1},d(t){t&&y(s),C(u),K(o,t),S=!1,L(N)}}}function re(r,s,l){let e,n;const c=()=>{console.log(D),l(0,e=[D]);const u=E.form.search(n);Z.search(u).then(b=>l(0,e=b))};function v(){n=this.value,l(1,n)}return l(0,e=[]),l(1,n=""),[e,n,c,v]}class he extends J{constructor(s){super(),O(this,s,re,ne,R,{})}}export{he as default};
