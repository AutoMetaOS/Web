import{S as oe,i as re,s as ae,e as h,k as S,t as R,c as d,a as y,m as A,d as b,h as X,b as f,f as q,_ as M,g as Y,J as u,a4 as K,T as F,a3 as ne,o as E,p as Z,q as B,G as ie,n as x,w as ee,x as te,y as le,B as se,X as ce}from"../../chunks/index-3a01bbf7.js";import ue from"./components/book.svelte-42643fa7.js";import fe from"./stack.svelte-0cdee39d.js";import{p as G,a as ve}from"../../chunks/functions-2f55c969.js";import"../../chunks/index-30071b0e.js";import"../../chunks/index-cf574cb9.js";function Q(a,l,o){const e=a.slice();return e[6]=l[o],e}function pe(a){let l,o,e=a[1].map(G.results),t=[];for(let r=0;r<e.length;r+=1)t[r]=W(Q(a,e,r));const i=r=>E(t[r],1,1,()=>{t[r]=null});return{c(){l=h("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){l=d(r,"DIV",{class:!0});var n=y(l);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(b),this.h()},h(){f(l,"class","\u0192 \u0192\u2211 \u2206-bw w-100")},m(r,n){Y(r,l,n);for(let s=0;s<t.length;s+=1)t[s].m(l,null);o=!0},p(r,n){if(n&2){e=r[1].map(G.results);let s;for(s=0;s<e.length;s+=1){const v=Q(r,e,s);t[s]?(t[s].p(v,n),B(t[s],1)):(t[s]=W(v),t[s].c(),B(t[s],1),t[s].m(l,null))}for(x(),s=e.length;s<t.length;s+=1)i(s);Z()}},i(r){if(!o){for(let n=0;n<e.length;n+=1)B(t[n]);o=!0}},o(r){t=t.filter(Boolean);for(let n=0;n<t.length;n+=1)E(t[n]);o=!1},d(r){r&&b(l),ce(t,r)}}}function _e(a){let l,o;return l=new fe({props:{omni:a[2].toLowerCase()}}),{c(){ee(l.$$.fragment)},l(e){te(l.$$.fragment,e)},m(e,t){le(l,e,t),o=!0},p(e,t){const i={};t&4&&(i.omni=e[2].toLowerCase()),l.$set(i)},i(e){o||(B(l.$$.fragment,e),o=!0)},o(e){E(l.$$.fragment,e),o=!1},d(e){se(l,e)}}}function W(a){let l,o;return l=new ue({props:{objective:a[6].objective,id:a[6].cover_edition_key,title:a[6].title,author:a[6].author_name,image:a[6].cover_i,published:a[6].publish_year}}),{c(){ee(l.$$.fragment)},l(e){te(l.$$.fragment,e)},m(e,t){le(l,e,t),o=!0},p(e,t){const i={};t&2&&(i.objective=e[6].objective),t&2&&(i.id=e[6].cover_edition_key),t&2&&(i.title=e[6].title),t&2&&(i.author=e[6].author_name),t&2&&(i.image=e[6].cover_i),t&2&&(i.published=e[6].publish_year),l.$set(i)},i(e){o||(B(l.$$.fragment,e),o=!0)},o(e){E(l.$$.fragment,e),o=!1},d(e){se(l,e)}}}function me(a){let l,o,e,t,i,r,n,s,v,I,T,g,z,C,$,_,m,D,N,L;const P=[_e,pe],k=[];function U(c,p){return c[0]?1:0}return _=U(a),m=k[_]=P[_](a),{c(){l=h("main"),o=h("div"),e=h("form"),t=h("input"),i=S(),r=h("input"),n=S(),s=h("div"),v=h("div"),I=R("My Books"),T=S(),g=h("div"),z=R("All Books"),C=S(),$=h("div"),m.c(),this.h()},l(c){l=d(c,"MAIN",{class:!0});var p=y(l);o=d(p,"DIV",{class:!0,id:!0});var w=y(o);e=d(w,"FORM",{class:!0,style:!0});var V=y(e);t=d(V,"INPUT",{type:!0,spellcheck:!0,class:!0,placeholder:!0}),i=A(V),r=d(V,"INPUT",{type:!0,class:!0}),V.forEach(b),n=A(w),s=d(w,"DIV",{class:!0,style:!0});var j=y(s);v=d(j,"DIV",{class:!0});var H=y(v);I=X(H,"My Books"),H.forEach(b),T=A(j),g=d(j,"DIV",{class:!0});var J=y(g);z=X(J,"All Books"),J.forEach(b),j.forEach(b),w.forEach(b),C=A(p),$=d(p,"DIV",{style:!0});var O=y($);m.l(O),O.forEach(b),p.forEach(b),this.h()},h(){f(t,"type","text"),f(t,"spellcheck","false"),f(t,"class","w-50 svelte-182uv6n"),f(t,"placeholder","Search"),f(r,"type","submit"),f(r,"class","o-0 svelte-182uv6n"),r.value="go",f(e,"class","w-100 p10 svelte-182uv6n"),q(e,"top","0"),f(v,"class","fw7 tab svelte-182uv6n"),M(v,"active",!a[0]),f(g,"class","fw7 tab svelte-182uv6n"),M(g,"active",a[0]),f(s,"class","w-100 \u2020c p10 \u0192"),q(s,"top","calc(3rem + 2px)"),f(o,"class","blur w-100 p-fix svelte-182uv6n"),f(o,"id","nav"),q($,"margin-top","6rem"),f(l,"class","p0 m0 \u0192 \u0192\u2211 p-rel svelte-182uv6n")},m(c,p){Y(c,l,p),u(l,o),u(o,e),u(e,t),K(t,a[2]),u(e,i),u(e,r),u(o,n),u(o,s),u(s,v),u(v,I),u(s,T),u(s,g),u(g,z),u(l,C),u(l,$),k[_].m($,null),D=!0,N||(L=[F(t,"input",a[5]),F(e,"submit",ne(a[4])),F(s,"click",a[3])],N=!0)},p(c,[p]){p&4&&t.value!==c[2]&&K(t,c[2]),p&1&&M(v,"active",!c[0]),p&1&&M(g,"active",c[0]);let w=_;_=U(c),_===w?k[_].p(c,p):(x(),E(k[w],1,1,()=>{k[w]=null}),Z(),m=k[_],m?m.p(c,p):(m=k[_]=P[_](c),m.c()),B(m,1),m.m($,null))},i(c){D||(B(m),D=!0)},o(c){E(m),D=!1},d(c){c&&b(l),k[_].d(),N=!1,ie(L)}}}function he(a,l,o){let e,t,i=0;const r=()=>o(0,i=!i),n=()=>{o(1,e=[{}]),console.log(e),o(1,e=new Array(5).fill(0).map(I=>({objective:"add",cover_edition_key:"default",title:"Fetching...",author_name:["Getting Books"],publish_year:[],cover_i:null})));const v=G.form.search(t);ve.search(v).then(I=>o(1,e=I))};function s(){t=this.value,o(2,t)}return o(1,e=[]),o(2,t=""),[i,e,t,r,n,s]}class $e extends oe{constructor(l){super(),re(this,l,he,me,ae,{})}}export{$e as default};
