const n="https://api.nukes.in/",c=e=>{let t="";return e.type&&(t+=`"${e.type}":"${e.url}",`),delete e.type,delete e.url,Object.keys(e).forEach(r=>{typeof e[r]=="string"&&(e[r]=e[r].replace(/"/g,"'").replaceAll("undefined","")),t+=`"${r}":"${e[r]}",`}),btoa(t)},s=async e=>await(await fetch(n+e)).text(),o=e=>{const t=["Article","Collection","Reference","Repository","Video"];for(const r of t)e.hasOwnProperty(r)&&(e.type=r,e.url=e[r],delete e[r]);return e},a=e=>JSON.parse(e).map(t=>JSON.parse(`{${t}}`.replaceAll(",}","}"))).map(o),i={type:async(e,t)=>{const r=await s(`amos/type?db=${e}&q=${t}`);return a(r)},list:async e=>{const t=await s(`amos/all?db=${e}`);return a(t)},get:async(e,t)=>await s(`amos/get?db=${e}&id=${t}`),delete:async(e,t)=>await s(`amos/delete?db=${e}&id=${t}`),put:async(e,t,r)=>await s(`amos/put?db=${e}&id=${t}&value=${c(r)}`)};export{i as S};
