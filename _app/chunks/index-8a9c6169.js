import{p as I}from"./index-5303bb93.js";import{d as x,w as y}from"./index-a67a2886.js";import{c as k}from"./_commonjsHelpers-c771f69b.js";const h={type:{scale:"info",from:"amos"},time:3e3};function w(n){const c=y([]),r=(s,i=h.time,a=h.type)=>c.update(o=>[...o,{id:`_${Math.random().toString(36).slice(2,9)}`,type:a.scale,from:a.from,message:s,timeout:i%3e3}]),u=x(c,(s,i)=>{if(i(s),s.length>0){const a=setTimeout(()=>{c.update(o=>(o.shift(),o))},s[0].timeout);return()=>clearTimeout(a)}}),{subscribe:f}=u;return{subscribe:f,send:r}}const T=w();var S={exports:{}};(function(n,c){(function(r,u){n.exports=u()})(k,function(){var r={};if(r.isLSAvailable=function(){var t="_";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}(),r.isLSAvailable){var u=100,f=200,s=localStorage,i={},a=!1,o={},g=function(){for(var t in i){var e=s.getItem(t);if(e&&o[t]&&o[t].indexOf(e)===-1){o[t].push(e);try{var m=JSON.parse(e);m&&(e=m)}catch{}for(var l=0;l<i[t].length;l++)i[t][l](e);s.getItem(t+"-removeit")||(s.setItem(t+"-removeit","1"),function(p){setTimeout(function(){s.removeItem(p),s.removeItem(p+"-removeit"),o[t]=[]},f)}(t))}else e||(o[t]=[])}return setTimeout(g,u),!0};r.send=function(t,e){var m="";typeof e=="function"&&(e=e()),m=typeof e=="object"?JSON.stringify(e):e,s.setItem(t,m)},r.subscribe=function(t,e){i[t]||(i[t]=[],o[t]=[]),i[t].push(e),a||(a=g())},r.unsubscribe=function(t){i[t]&&(i[t]=[]),o[t]&&(o[t]=[])},r.getBuffer=function(){return o}}else r.send=r.subscribe=function(){throw new Error("localStorage not supported.")};return r})})(S);var d=S.exports;const b={channel:"internal",callback:function(n){console.log(n)}},N={announce:(n=b.channel,c)=>(console.log(n,c),d.send(n,c),0),listen:(n=c.channel,c=b.callback)=>(console.log(n,c),d.subscribe(n,c),0),mute:(n=b.channel)=>d.unsubscribe(n)},v={token:null,getId:()=>(v.token||(v.token=I.exports.math.uuid().split("-")[0]),v.token)},J=T,L=N;export{L as i,J as n,v as s};
