import{p as x}from"./index-5303bb93.js";import{d as I,w as S}from"./index-cfd1276c.js";import{c as k}from"./_commonjsHelpers-c771f69b.js";const f=e=>{console.log(e);const{type:c,e:o}=e,{message:l,lineNumber:m,columnNumber:n,fileName:s,stack:a}=o;console.log(`Error@${m}:${n} in ${s} 
 ${l} 
${a}`),$.send({title:c,text:l},2e3,{from:window.location.pathname,scale:"danger"})},w=e=>(e instanceof EvalError?f({type:"EvalError",e}):e instanceof RangeError?f({type:"RangeError",e}):e instanceof ReferenceError?f({type:"ReferenceError",e}):e instanceof SyntaxError?f({type:"SyntaxError",e}):e instanceof TypeError?f({type:"TypeError",e}):e instanceof URIError?f({type:"URIError",e}):f({type:"UnknownType",e}),0),d={message:{title:"Internal",text:"Uncaught error"},type:{scale:"info",from:"amos"},time:3e3};function T(e){const c=S([]),o=(n=d.message,s=d.time,a=d.type)=>c.update(i=>[...i,{id:`_${Math.random().toString(36).slice(2,9)}`,type:a.scale,from:a.from,message:n.text,title:n.title,timeout:s%3e3}]),l=I(c,(n,s)=>{if(s(n),n.length>0){const a=setTimeout(()=>{c.update(i=>(i.shift(),i))},n[0].timeout);return()=>clearTimeout(a)}}),{subscribe:m}=l;return{subscribe:m,send:o}}const N=T();var h={exports:{}};(function(e,c){(function(o,l){e.exports=l()})(k,function(){var o={};if(o.isLSAvailable=function(){var t="_";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}(),o.isLSAvailable){var l=100,m=200,n=localStorage,s={},a=!1,i={},E=function(){for(var t in s){var r=n.getItem(t);if(r&&i[t]&&i[t].indexOf(r)===-1){i[t].push(r);try{var u=JSON.parse(r);u&&(r=u)}catch{}for(var p=0;p<s[t].length;p++)s[t][p](r);n.getItem(t+"-removeit")||(n.setItem(t+"-removeit","1"),function(g){setTimeout(function(){n.removeItem(g),n.removeItem(g+"-removeit"),i[t]=[]},m)}(t))}else r||(i[t]=[])}return setTimeout(E,l),!0};o.send=function(t,r){var u="";typeof r=="function"&&(r=r()),u=typeof r=="object"?JSON.stringify(r):r,n.setItem(t,u)},o.subscribe=function(t,r){s[t]||(s[t]=[],i[t]=[]),s[t].push(r),a||(a=E())},o.unsubscribe=function(t){s[t]&&(s[t]=[]),i[t]&&(i[t]=[])},o.getBuffer=function(){return i}}else o.send=o.subscribe=function(){throw new Error("localStorage not supported.")};return o})})(h);var b=h.exports;const v={channel:"internal",callback:function(e){console.log(e)}},R={announce:(e=v.channel,c)=>(console.log(e,c),b.send(e,c),0),listen:(e=c.channel,c=v.callback)=>(b.subscribe(e,c),0),mute:(e=v.channel)=>b.unsubscribe(e)},A=w,y={token:null,getId:()=>(y.token||(y.token=x.exports.math.uuid().split("-")[0]),y.token)},$=N,G=R;export{A as e,G as i,$ as n,y as s};
